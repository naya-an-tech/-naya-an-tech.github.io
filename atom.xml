<?xml version='1.0' encoding='utf-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ko-KR">
<id>https://naya-an-tech.github.io</id>
<title><![CDATA[Ayaan(NaYa) Tech Blog]]></title>
<subtitle>
<![CDATA[🚀 Ayaan - lucky Boy]]>
</subtitle>
<icon>https://naya-an-tech.github.io/favicon.png</icon>
<link href="https://naya-an-tech.github.io"/>
<link href="https://naya-an-tech.github.io/atom.xml" rel="self" type="application/atom+xml"/>
<updated>2024-07-06T16:10:25.395Z</updated>
<author>
  <name><![CDATA[GiCheon Seong(Ayaan)]]></name>
</author>
<category term="Year-2022" scheme="https://naya-an-tech.github.io/?tags=tags-Year=2022" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?tags=tags-Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?tags=tags-Language=English" />
<category term="GPT" scheme="https://naya-an-tech.github.io/?tags=GPT" />
<category term="cleancode" scheme="https://naya-an-tech.github.io/?tags=cleancode" />
<category term="code depandency" scheme="https://naya-an-tech.github.io/?tags=code%20depandency" />
<category term="CI/CD" scheme="https://naya-an-tech.github.io/?tags=CI/CD" />
<category term="mono repo" scheme="https://naya-an-tech.github.io/?tags=mono%20repo" />
<category term="database" scheme="https://naya-an-tech.github.io/?tags=database" />
<category term="alembic" scheme="https://naya-an-tech.github.io/?tags=alembic" />
<category term="sqlacodegen" scheme="https://naya-an-tech.github.io/?tags=sqlacodegen" />
<category term="sqlalchemy" scheme="https://naya-an-tech.github.io/?tags=sqlalchemy" />
<category term="python" scheme="https://naya-an-tech.github.io/?tags=python" />
<category term="model" scheme="https://naya-an-tech.github.io/?tags=model" />
<category term="postgresql" scheme="https://naya-an-tech.github.io/?tags=postgresql" />
<category term="elasticsearch" scheme="https://naya-an-tech.github.io/?tags=elasticsearch" />
<category term="tutorial" scheme="https://naya-an-tech.github.io/?tags=tutorial" />
<category term="elasticsearch-dsl" scheme="https://naya-an-tech.github.io/?tags=elasticsearch-dsl" />
<category term="Markdown" scheme="https://naya-an-tech.github.io/?tags=Markdown" />
<category term="gitops" scheme="https://naya-an-tech.github.io/?tags=gitops" />
<category term="k8s" scheme="https://naya-an-tech.github.io/?tags=k8s" />
<category term="act" scheme="https://naya-an-tech.github.io/?tags=act" />
<category term="local-setting" scheme="https://naya-an-tech.github.io/?tags=local-setting" />
<category term="environment" scheme="https://naya-an-tech.github.io/?tags=environment" />
<category term="깃옵스" scheme="https://naya-an-tech.github.io/?tags=%EA%B9%83%EC%98%B5%EC%8A%A4" />
<category term="로컬환경구축" scheme="https://naya-an-tech.github.io/?tags=%EB%A1%9C%EC%BB%AC%ED%99%98%EA%B2%BD%EA%B5%AC%EC%B6%95" />
<category term="Hello World" scheme="https://naya-an-tech.github.io/?tags=Hello%20World" />
<category term="QWER" scheme="https://naya-an-tech.github.io/?tags=QWER" />
<category term="mac" scheme="https://naya-an-tech.github.io/?tags=mac" />
<category term="m3mac" scheme="https://naya-an-tech.github.io/?tags=m3mac" />
<category term="macbook" scheme="https://naya-an-tech.github.io/?tags=macbook" />
<category term="command" scheme="https://naya-an-tech.github.io/?tags=command" />
<category term="mac-info" scheme="https://naya-an-tech.github.io/?tags=mac-info" />
<category term="macbook-info" scheme="https://naya-an-tech.github.io/?tags=macbook-info" />
<category term="m3-macbook-info" scheme="https://naya-an-tech.github.io/?tags=m3-macbook-info" />
<category term="blog" scheme="https://naya-an-tech.github.io/?tags=blog" />
<category term="free-comment" scheme="https://naya-an-tech.github.io/?tags=free-comment" />
<category term="giscus" scheme="https://naya-an-tech.github.io/?tags=giscus" />
<category term="poetry" scheme="https://naya-an-tech.github.io/?tags=poetry" />
<category term="library" scheme="https://naya-an-tech.github.io/?tags=library" />
<category term="파이썬" scheme="https://naya-an-tech.github.io/?tags=%ED%8C%8C%EC%9D%B4%EC%8D%AC" />
<category term="라이브러리" scheme="https://naya-an-tech.github.io/?tags=%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC" />
<category term="ubuntu" scheme="https://naya-an-tech.github.io/?tags=ubuntu" />
<category term="ssh" scheme="https://naya-an-tech.github.io/?tags=ssh" />
<category term="ssh-rsa" scheme="https://naya-an-tech.github.io/?tags=ssh-rsa" />
<category term="맥북" scheme="https://naya-an-tech.github.io/?tags=%EB%A7%A5%EB%B6%81" />
<category term="ssh애러" scheme="https://naya-an-tech.github.io/?tags=ssh%EC%95%A0%EB%9F%AC" />
<category term="ssh접속실패" scheme="https://naya-an-tech.github.io/?tags=ssh%EC%A0%91%EC%86%8D%EC%8B%A4%ED%8C%A8" />
<category term="ga4" scheme="https://naya-an-tech.github.io/?tags=ga4" />
<category term="google-ad" scheme="https://naya-an-tech.github.io/?tags=google-ad" />
<category term="svelte" scheme="https://naya-an-tech.github.io/?tags=svelte" />
<category term="sveltekit" scheme="https://naya-an-tech.github.io/?tags=sveltekit" />
<category term="스벨트" scheme="https://naya-an-tech.github.io/?tags=%EC%8A%A4%EB%B2%A8%ED%8A%B8" />
<category term="스벨트킷" scheme="https://naya-an-tech.github.io/?tags=%EC%8A%A4%EB%B2%A8%ED%8A%B8%ED%82%B7" />
<category term="data load" scheme="https://naya-an-tech.github.io/?tags=data%20load" />
<category term="CSR" scheme="https://naya-an-tech.github.io/?tags=CSR" />
<category term="SSR" scheme="https://naya-an-tech.github.io/?tags=SSR" />
<category term="page.server.js" scheme="https://naya-an-tech.github.io/?tags=page.server.js" />
<category term="page.js" scheme="https://naya-an-tech.github.io/?tags=page.js" />
<category term="db" scheme="https://naya-an-tech.github.io/?tags=db" />
<category term="dbmigration" scheme="https://naya-an-tech.github.io/?tags=dbmigration" />
<category term="디비마이그레이션" scheme="https://naya-an-tech.github.io/?tags=%EB%94%94%EB%B9%84%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98" />
<category term="vscode" scheme="https://naya-an-tech.github.io/?tags=vscode" />
<category term="git" scheme="https://naya-an-tech.github.io/?tags=git" />
<entry>
    <title type="html"><![CDATA[[GA4] 데모 페이지 맛보기]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/study-ga4-demo-page" />
    <id>https://naya-an-tech.github.io/study-ga4-demo-page</id>
    <published>2024-07-06T16:09:44.624Z</published>
    <updated>2024-07-06T16:09:44.626Z</updated>
    <summary type="html"><![CDATA[데모 페이지 맛보기]]></summary>
    <content type="html"><![CDATA[<h1 id="1. 데모페이지">1. 데모페이지</h1><p>어떠한 정보를 제공하는지 미리 보여주기위해 구글에서 데모 계정 및 데모 페이지를 제공하고있다.</p>
<p>“구글 애널리틱스 데모 계정” 을 검색하여 들어가보자! <a href="https://analytics.google.com/analytics/web/?utm_source=demoaccount&amp;utm_medium=demoaccount&amp;utm_campaign=demoaccount#/p213025502/reports/intelligenthome" rel="external" >링크</a> ← 작동을 안할 수 있으니 그럴 땐 직접 검색하여 들어가자.</p>
<p><ImgZoom src="/study-ga4-demo-page/0_Untitled.png" alt="image"></ImgZoom></p>
<p>여러가지 상황에 맞는 데모 데이터를 볼 수 있다.</p>
<ul>
<li>웹 데이터</li>
<li>앱 및 웹 데이터
상황에 맞는 데모 사이트를 확인해보자. 여기서는 웹을 기준으로한다.</li>
</ul>
<p>아래와 같은 화면을 만날 수 있다.</p>
<p><ImgZoom src="/study-ga4-demo-page/1_Untitled.png" alt="image"></ImgZoom></p>
<p>하나씩  어떤 정보를 알 수 있는지 확인해보자.</p>
<h1 id="2. 보고서">2. 보고서</h1><p>보고서를 살펴보자.</p>
<p><ImgZoom src="/study-ga4-demo-page/2_Untitled.png" alt="image"></ImgZoom></p>
<p>이전과 많이 달라진 모습을 볼 수 있다.</p>
<ul>
<li>기간동안의 사용자, 신규 사용자, 평균 참여 시간, 수익 등을 볼 수 있음.</li>
<li>최근 30분간 유저 추이를 볼 수있음</li>
<li>유입 경로를 확인</li>
<li>국가별 사용자 파악 가능</li>
<li>활성 유저 추이 확인 가능</li>
<li>리텐션 확인 가능</li>
<li>페이지, 이벤트별 추이 확인 가능</li>
</ul>
<h1 id="3. 관리자 메뉴">3. 관리자 메뉴</h1><p>맨 아래의 톱니바퀴(관리)를 클릭하여 계정에 대한설정을 확인해보자.</p>
<p><ImgZoom src="/study-ga4-demo-page/3_Untitled.png" alt="image"></ImgZoom></p>
<p>관리 단위로는 크게 계정, 속성 이 있다.</p>
<h2 id="1. 계정">1. 계정</h2><p>하나의 비즈니즈 단위이다. </p>
<p>흔히들 브랜드라고 불린다. 100개의 계정을 생성할 수 있다.</p>
<h2 id="2. 속성">2. 속성</h2><p>하나의 비즈니스(브랜드) 에서도 하위로 나눌 수 있다. (하위 브랜드)</p>
<p>카카오톡 앱 내에 여러가지 서비스들이 있는 것처럼 나누어 관리할 수 있다.</p>
<p>1개의 계정에는 50개의 속성을 가질 수 있다.</p>
<p>100개의 계정에 50개의 속성은 → 총 5000개의 하위 브랜드를 만들어 관리할 수 있다.</p>
]]></content>
    <category term="ga4" scheme="https://naya-an-tech.github.io/?tags=ga4" />
<category term="google-ad" scheme="https://naya-an-tech.github.io/?tags=google-ad" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[poetry 의존성 라이브러리 업그레이드]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/poetry-library-upgrade" />
    <id>https://naya-an-tech.github.io/poetry-library-upgrade</id>
    <published>2024-07-06T16:09:36.411Z</published>
    <updated>2024-07-06T16:09:36.412Z</updated>
    <summary type="html"><![CDATA[poetry 의존성 라이브러리 업그레이드]]></summary>
    <content type="html"><![CDATA[<p>개발을 하다보면 로컬에 설치한 라이브러리 버전을 확인해야할 때가 있다.</p>
<p>toml 과 lock 파일로 확인이 가능하지만 실제로 설치된게 다를 수 있어,</p>
<p>현재 설치된 라이브러리를 확인할 때, poetry 명령어를 알아보자.</p>
<h1 id="1. poetry-package 확인하기">1. poetry-package 확인하기</h1><p>일단 설치된 라이버리리들이 뭐가있는지 확인해보자.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">poetry show</div></div>`}</code></pre></CodeCopy></div>
<h1 id="2. 특정 패키지 확인하기">2. 특정 패키지 확인하기</h1><p>특정 패키지의 버전을 상세히 볼 수 있다.  google-ads 의 버전으로 확인해보자.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">poetry show <span class="token punctuation">[</span>lib-name<span class="token punctuation">]</span></div></div>`}</code></pre></CodeCopy></div>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> name         <span class="token builtin class-name">:</span> google-ads                            </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> version      <span class="token builtin class-name">:</span> <span class="token number">20.0</span>.0                                </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> description  <span class="token builtin class-name">:</span> Client library <span class="token keyword">for</span> the Google Ads API </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">dependencies</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - google-api-core <span class="token operator">>=</span><span class="token number">2.10</span>.1,<span class="token operator">&lt;=</span><span class="token number">2.11</span>.0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - google-auth-oauthlib <span class="token operator">>=</span><span class="token number">0.3</span>.0,<span class="token operator">&lt;</span><span class="token number">1.0</span>.0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - googleapis-common-protos <span class="token operator">>=</span><span class="token number">1.56</span>.4,<span class="token operator">&lt;</span><span class="token number">2.0</span>.0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - grpcio <span class="token operator">>=</span><span class="token number">1.38</span>.1,<span class="token operator">&lt;</span><span class="token number">2.0</span>.0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - grpcio-status <span class="token operator">>=</span><span class="token number">1.38</span>.1,<span class="token operator">&lt;</span><span class="token number">2.0</span>.0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - proto-plus <span class="token operator">>=</span><span class="token number">1.22</span>.1,<span class="token operator">&lt;</span><span class="token number">1.23</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - protobuf <span class="token operator">>=</span><span class="token number">4.21</span>.5</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - PyYAML <span class="token operator">>=</span><span class="token number">5.1</span>,<span class="token operator">&lt;</span><span class="token number">7.0</span></div></div>`}</code></pre></CodeCopy></div>
<p>혹은 pyproject.toml 파일을 확인해도 좋음.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">[</span>tool.poetry.dependencies<span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">python <span class="token operator">=</span> <span class="token string">"^3.7"</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">google-ads <span class="token operator">=</span> <span class="token string">"^24.1.0"</span></div></div>`}</code></pre></CodeCopy></div>
<h1 id="3. 특정 버전으로 라이브러리 업그레이드">3. 특정 버전으로 라이브러리 업그레이드</h1><p>그냥 업그레이드 한다면 파이썬 버전에 맞는 최신 버전으로 설치될 것이다.</p>
<p>특정 버전으로 설치해야한다면 아래와 같은 명령어로 설치할 수 있다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">poetry <span class="token function">add</span> google-ads@24.1.0</div></div>`}</code></pre></CodeCopy></div>
<p>라이브러리들은 가능하면 최신으로 유지하도록 노력하자! (그를 위해 TDD가 필수적이지않나 싶다)</p>
<p><ImgZoom src="/poetry-library-upgrade/0_Untitled.png" alt="image"></ImgZoom></p>
]]></content>
    <category term="poetry" scheme="https://naya-an-tech.github.io/?tags=poetry" />
<category term="library" scheme="https://naya-an-tech.github.io/?tags=library" />
<category term="python" scheme="https://naya-an-tech.github.io/?tags=python" />
<category term="파이썬" scheme="https://naya-an-tech.github.io/?tags=%ED%8C%8C%EC%9D%B4%EC%8D%AC" />
<category term="라이브러리" scheme="https://naya-an-tech.github.io/?tags=%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[기존 DB table을 model.py로 쉽게 만드는 방법]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/easy-database-to-model-conversion" />
    <id>https://naya-an-tech.github.io/easy-database-to-model-conversion</id>
    <published>2024-07-06T16:09:32.912Z</published>
    <updated>2024-07-06T16:09:32.914Z</updated>
    <summary type="html"><![CDATA[sqlacodegen 으로 기존 db의 table을 model.py로 추출해보자]]></summary>
    <content type="html"><![CDATA[<p>sqlacodegen 설치</p>
<div class="code-block  "><CodeCopy><pre><code class="language-shell">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">poetry <span class="token function">add</span> <span class="token parameter variable">-G</span> dev sqlacodegen      </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Using version ^2.3.0.post1 <span class="token keyword">for</span> sqlacodegen</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Updating dependencies</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Resolving dependencies<span class="token punctuation">..</span>. <span class="token punctuation">(</span><span class="token number">0</span>.2s<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Because sqlacodegen <span class="token punctuation">(</span><span class="token number">2.3</span>.0.post1<span class="token punctuation">)</span> depends on SQLAlchemy <span class="token punctuation">(</span><span class="token operator">>=</span><span class="token number">0.9</span>.0,<span class="token operator">&lt;</span><span class="token number">2.0</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> and no versions of sqlacodegen match <span class="token operator">></span><span class="token number">2.3</span>.0.post1,<span class="token operator">&lt;</span><span class="token number">3.0</span>.0, sqlacodegen <span class="token punctuation">(</span><span class="token operator">>=</span><span class="token number">2.3</span>.0.post1,<span class="token operator">&lt;</span><span class="token number">3.0</span>.0<span class="token punctuation">)</span> requires SQLAlchemy <span class="token punctuation">(</span><span class="token operator">>=</span><span class="token number">0.9</span>.0,<span class="token operator">&lt;</span><span class="token number">2.0</span><span class="token punctuation">)</span>.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">So, because hsmoa-growth depends on both sqlalchemy <span class="token punctuation">(</span>^2.0.27<span class="token punctuation">)</span> and sqlacodegen <span class="token punctuation">(</span>^2.3.0.post1<span class="token punctuation">)</span>, version solving failed.</div></div>`}</code></pre></CodeCopy></div>
<p>sqlacodegen의 경우 SQLAlchemy의 버전이  SQLAlchemy (&gt;=0.9.0,&lt;2.0) 사이에 있어야한다. 필자의 경우 2.0 이상이어서 버전 다운그레이드를 했다.</p>
<p>SQLAlchemy 버전 확인</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">poetry show SQLAlchemy   </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> name         <span class="token builtin class-name">:</span> sqlalchemy                   </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> version      <span class="token builtin class-name">:</span> <span class="token number">2.0</span>.27                       </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> description  <span class="token builtin class-name">:</span> Database Abstraction Library </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">dependencies</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - greenlet <span class="token operator">!=</span><span class="token number">0.4</span>.17</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> - typing-extensions <span class="token operator">>=</span><span class="token number">4.6</span>.0</div></div>`}</code></pre></CodeCopy></div>
<p><ImgZoom src="/easy-database-to-model-conversion/0_Untitled.png" alt="image"></ImgZoom></p>
<p>버전을 다운그레이드 후 아래의 명령어로 특정 db의 table들을 추출해서 model.py 을 만들어보자</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">sqlacodegen postgresql://<span class="token punctuation">[</span>ID<span class="token punctuation">]</span>:<span class="token punctuation">[</span>PASSWORD<span class="token punctuation">]</span>@<span class="token punctuation">[</span>DB_URL<span class="token punctuation">]</span>:<span class="token punctuation">[</span>DB_PORT<span class="token punctuation">]</span>/<span class="token punctuation">[</span>DATABASE_NAME<span class="token punctuation">]</span> <span class="token parameter variable">--outfile</span> <span class="token punctuation">[</span>OUTPUT_MODEL.py<span class="token punctuation">]</span></div></div>`}</code></pre></CodeCopy></div>
<p><ImgZoom src="/easy-database-to-model-conversion/1_Untitled.png" alt="image"></ImgZoom></p>
<p>아래와 같은 결과가 나온다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> Column<span class="token punctuation">,</span> Integer<span class="token punctuation">,</span> String<span class="token punctuation">,</span> ForeignKey</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>ext<span class="token punctuation">.</span>declarative <span class="token keyword">import</span> declarative_base</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>orm <span class="token keyword">import</span> relationship</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Base <span class="token operator">=</span> declarative_base<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    __tablename__ <span class="token operator">=</span> <span class="token string">'user'</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token builtin">id</span> <span class="token operator">=</span> Column<span class="token punctuation">(</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    name <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    email <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">class</span> <span class="token class-name">Post</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    __tablename__ <span class="token operator">=</span> <span class="token string">'post'</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token builtin">id</span> <span class="token operator">=</span> Column<span class="token punctuation">(</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    title <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    content <span class="token operator">=</span> Column<span class="token punctuation">(</span>String<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    user_id <span class="token operator">=</span> Column<span class="token punctuation">(</span>Integer<span class="token punctuation">,</span> ForeignKey<span class="token punctuation">(</span><span class="token string">'user.id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    user <span class="token operator">=</span> relationship<span class="token punctuation">(</span><span class="token string">'User'</span><span class="token punctuation">)</span></div></div>`}</code></pre></CodeCopy></div>
<p>이제 이 model을 활용해서 alembic을 설정해보자.</p>
<p>alembic/env.py</p>
<div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> logging<span class="token punctuation">.</span>config <span class="token keyword">import</span> fileConfig</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> engine_from_config<span class="token punctuation">,</span> pool</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> alembic <span class="token keyword">import</span> context</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># this is the Alembic Config object, which provides</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># access to the values within the .ini file in use.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">config <span class="token operator">=</span> context<span class="token punctuation">.</span>config</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># Interpret the config file for Python logging.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># This line sets up loggers basically.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">fileConfig<span class="token punctuation">(</span>config<span class="token punctuation">.</span>config_file_name<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># add your model's MetaData object here</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># for 'autogenerate' support</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># from myapp import mymodel</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># target_metadata = mymodel.Base.metadata</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> models <span class="token keyword">import</span> Base  <span class="token comment"># Import your Base model</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">target_metadata <span class="token operator">=</span> Base<span class="token punctuation">.</span>metadata</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># other values from the config, defined by the needs of env.py,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># can be acquired:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># my_important_option = config.get_main_option("my_important_option")</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># ... etc.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">def</span> <span class="token function">run_migrations_offline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token triple-quoted-string string">"""Run migrations in 'offline' mode.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    This configures the context with just a URL</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    and not an Engine, though an Engine is acceptable</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    here as well.  By skipping the Engine creation</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    we don't even need a DBAPI to be available.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Calls to context.execute() here emit the given string to the</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    script output.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    """</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    url <span class="token operator">=</span> config<span class="token punctuation">.</span>get_main_option<span class="token punctuation">(</span><span class="token string">"sqlalchemy.url"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    context<span class="token punctuation">.</span>configure<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        url<span class="token operator">=</span>url<span class="token punctuation">,</span> target_metadata<span class="token operator">=</span>target_metadata<span class="token punctuation">,</span> literal_binds<span class="token operator">=</span><span class="token boolean">True</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">with</span> context<span class="token punctuation">.</span>begin_transaction<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        context<span class="token punctuation">.</span>run_migrations<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">def</span> <span class="token function">run_migrations_online</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token triple-quoted-string string">"""Run migrations in 'online' mode.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    In this scenario we need to create an Engine</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    and associate a connection with the context.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    """</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    connectable <span class="token operator">=</span> engine_from_config<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        config<span class="token punctuation">.</span>get_section<span class="token punctuation">(</span>config<span class="token punctuation">.</span>config_ini_section<span class="token punctuation">)</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        prefix<span class="token operator">=</span><span class="token string">"sqlalchemy."</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        poolclass<span class="token operator">=</span>pool<span class="token punctuation">.</span>NullPool<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">with</span> connectable<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> connection<span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        context<span class="token punctuation">.</span>configure<span class="token punctuation">(</span>connection<span class="token operator">=</span>connection<span class="token punctuation">,</span> target_metadata<span class="token operator">=</span>target_metadata<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token keyword">with</span> context<span class="token punctuation">.</span>begin_transaction<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            context<span class="token punctuation">.</span>run_migrations<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">if</span> context<span class="token punctuation">.</span>is_offline_mode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    run_migrations_offline<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">else</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    run_migrations_online<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div>`}</code></pre></CodeCopy></div>
<h1 id="5. 마이그레이션 진행">5. 마이그레이션 진행</h1><div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">alembic revision <span class="token operator">-</span><span class="token operator">-</span>autogenerate <span class="token operator">-</span>m <span class="token string">"Initial migration"</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div>`}</code></pre></CodeCopy></div>
<p>적용</p>
<div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">alembic upgrade head</div></div>`}</code></pre></CodeCopy></div>
<p>이 과정을 통해 데이터베이스 메타데이터를 기반으로 자동으로 생성된 모델 클래스를 사용하여 Alembic 마이그레이션을 관리할 수 있습니다. 이 방법을 사용하면 기존 데이터베이스 스키마를 쉽게 SQLAlchemy 모델로 변환하고, 이를 기반으로 마이그레이션을 생성 및 관리할 수 있습니다.</p>
]]></content>
    <category term="database" scheme="https://naya-an-tech.github.io/?tags=database" />
<category term="alembic" scheme="https://naya-an-tech.github.io/?tags=alembic" />
<category term="sqlacodegen" scheme="https://naya-an-tech.github.io/?tags=sqlacodegen" />
<category term="sqlalchemy" scheme="https://naya-an-tech.github.io/?tags=sqlalchemy" />
<category term="python" scheme="https://naya-an-tech.github.io/?tags=python" />
<category term="model" scheme="https://naya-an-tech.github.io/?tags=model" />
<category term="postgresql" scheme="https://naya-an-tech.github.io/?tags=postgresql" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[mac 정보 확인하기]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/how-to-get-mac-info-with-command" />
    <id>https://naya-an-tech.github.io/how-to-get-mac-info-with-command</id>
    <published>2024-07-05T06:01:36.338Z</published>
    <updated>2024-07-05T06:01:36.339Z</updated>
    <summary type="html"><![CDATA[mac 정보가 궁금할 때 확인하는 방법]]></summary>
    <content type="html"><![CDATA[<p>Mac OS에서 CLI를 통해 시스템 정보를 얻을 수 있는 여러 명령어가 있습니다. </p>
<p>다음은 주요 정보를 얻기 위한 명령어들입니다</p>
<ol>
<li>OS 정보:</li>
<li>시스템 개요:</li>
<li>CPU 정보:</li>
<li>RAM 정보:</li>
<li>디스크 정보:</li>
<li>전체 시스템 정보를 한 번에 보기:</li>
<li>실시간 시스템 모니터링:
<ImgZoom src="/how-to-get-mac-info-with-command/0_Untitled.png" alt="image"></ImgZoom></li>
</ol>
<p>이러한 명령어들을 조합하여 사용하면 Mac OS의 상세한 시스템 정보를 CLI를 통해 얻을 수 있습니다. </p>
]]></content>
    <category term="mac" scheme="https://naya-an-tech.github.io/?tags=mac" />
<category term="m3mac" scheme="https://naya-an-tech.github.io/?tags=m3mac" />
<category term="macbook" scheme="https://naya-an-tech.github.io/?tags=macbook" />
<category term="local-setting" scheme="https://naya-an-tech.github.io/?tags=local-setting" />
<category term="command" scheme="https://naya-an-tech.github.io/?tags=command" />
<category term="mac-info" scheme="https://naya-an-tech.github.io/?tags=mac-info" />
<category term="macbook-info" scheme="https://naya-an-tech.github.io/?tags=macbook-info" />
<category term="m3-macbook-info" scheme="https://naya-an-tech.github.io/?tags=m3-macbook-info" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[old server ssh 접근 제한]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/ssh-connection-fail-on-m3-mac" />
    <id>https://naya-an-tech.github.io/ssh-connection-fail-on-m3-mac</id>
    <published>2024-07-02T16:19:56.974Z</published>
    <updated>2024-07-02T16:19:56.975Z</updated>
    <summary type="html"><![CDATA[오래된 서버 ssh 접근 제한]]></summary>
    <content type="html"><![CDATA[<p>최신 맥에서 특정 서버로 접근하려할 때, 아래와 같은 애러를 만날 때가 있다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-shell">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token function">ssh</span> user@192.168.0.100</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Unable to negotiate with <span class="token number">192.168</span>.10.106 port <span class="token number">22</span>: no matching <span class="token function">host</span> key <span class="token builtin class-name">type</span> found. Their offer: ssh-rsa,ssh-dss</div></div>`}</code></pre></CodeCopy></div>
<p>이 오류는 SSH 클라이언트와 서버 간의 호스트 키 타입 불일치로 인해 발생한다. </p>
<p>최신 SSH 클라이언트는 보안상의 이유로 기본적으로 ssh-rsa와 ssh-dss를 비활성화했기 때문이다.</p>
<p>이 문제를 해결하기 위한 몇 가지 방법이 있다.</p>
<h2 id="1. SSH 명령에 호스트 키 타입을 명시적으로 지정">1. SSH 명령에 호스트 키 타입을 명시적으로 지정</h2><div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token function">ssh</span> <span class="token parameter variable">-o</span> <span class="token assign-left variable">HostKeyAlgorithms</span><span class="token operator">=</span>+ssh-rsa user@192.168.10.106</div></div>`}</code></pre></CodeCopy></div>
<h2 id="2. SSH 구성 파일에 호스트 키 타입 추가">2. SSH 구성 파일에 호스트 키 타입 추가</h2><p>~/.ssh/config 파일(없다면 생성)에 다음 내용을 추가합니다:</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Host <span class="token number">192.168</span>.10.106</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    HostKeyAlgorithms +ssh-rsa</div></div>`}</code></pre></CodeCopy></div>
<h2 id="3.서버 측 SSH 구성 업데이트">3.서버 측 SSH 구성 업데이트</h2><p>가능하다면, 서버의 /etc/ssh/sshd_config 파일에서 더 안전한 키 타입(예: ed25519)을 추가하고 SSH 서비스를 재시작한다.</p>
<h2 id="4. SSH 클라이언트 업데이트">4. SSH 클라이언트 업데이트</h2><p>최신 버전의 SSH 클라이언트는 더 안전한 알고리즘을 지원</p>
<p><ImgZoom src="/ssh-connection-fail-on-m3-mac/0_Untitled.png" alt="image"></ImgZoom></p>
<p>보안상의 이유로 옵션 3이나 4를 권장하지만, 즉시 서버에 접속해야 한다면 옵션 1이나 2를 사용할 수 있다. </p>
<p>단, 이는 임시 해결책이며 장기적으로는 더 안전한 방법(3,4)를 고려해 보자.</p>
]]></content>
    <category term="ssh" scheme="https://naya-an-tech.github.io/?tags=ssh" />
<category term="ssh-rsa" scheme="https://naya-an-tech.github.io/?tags=ssh-rsa" />
<category term="m3mac" scheme="https://naya-an-tech.github.io/?tags=m3mac" />
<category term="macbook" scheme="https://naya-an-tech.github.io/?tags=macbook" />
<category term="맥북" scheme="https://naya-an-tech.github.io/?tags=%EB%A7%A5%EB%B6%81" />
<category term="ssh애러" scheme="https://naya-an-tech.github.io/?tags=ssh%EC%95%A0%EB%9F%AC" />
<category term="ssh접속실패" scheme="https://naya-an-tech.github.io/?tags=ssh%EC%A0%91%EC%86%8D%EC%8B%A4%ED%8C%A8" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[운영중인 데이터베이스 alembic 적용 시켜보기]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/use-alembic-to-already-operation-db" />
    <id>https://naya-an-tech.github.io/use-alembic-to-already-operation-db</id>
    <published>2024-06-15T16:21:46.689Z</published>
    <updated>2024-06-15T16:21:46.690Z</updated>
    <summary type="html"><![CDATA[운영되고있는 DB에 alembic을 적용시켜보자]]></summary>
    <content type="html"><![CDATA[<p>레거시 프로젝트를 담당하다보면  model이 선언되어있지않고, DB 관리가 안되고 있는 경우도 종종 있다.</p>
<p>아래의 방법으로 기존 DB 테이블들을 alembic으로 관리해보자.</p>
<p>Alembic은 SQLAlchemy와 함께 사용되며, 데이터베이스 스키마를 버전 관리할 수 있도록 도와준다.</p>
<p>가장 좋은 점은 파이썬 코드로 관리가 가능하여, git으로 관리가 가능하다고 생각한다.</p>
<h1 id="1. Alembic 설치">1. Alembic 설치</h1><p>먼저 Alembic을 설치</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">pip <span class="token function">install</span> alembic </div></div>`}</code></pre></CodeCopy></div>
<p><ImgZoom src="/use-alembic-to-already-operation-db/0_Untitled.png" alt="image"></ImgZoom></p>
<h1 id="2. Alembic 초기화">2. Alembic 초기화</h1><p>프로젝트 디렉터리에서 Alembic을 초기화</p>
<p> alembic 디렉터리를 생성하고 기본 구성 파일과 스크립트를 생성</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">alembic init alembic </div></div>`}</code></pre></CodeCopy></div>
<h1 id="3. Alembic 설정 파일 구성">3. Alembic 설정 파일 구성</h1><p>alembic.ini 파일을 열어 데이터베이스 연결 문자열을 설정</p>
<p>예를 들어, PostgreSQL 데이터베이스를 사용한다면:</p>
<div class="code-block  "><CodeCopy><pre><code class="language-plain">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"># alembic.ini</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[alembic]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"># path to migration scripts</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">script_location = alembic</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[loggers]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">keys = root,sqlalchemy,alembic</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[handlers]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">keys = console</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[formatters]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">keys = generic</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[logger_root]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">level = WARN</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">handlers = console</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">qualname =</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[logger_sqlalchemy]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">level = WARN</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">handlers = console</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">qualname = sqlalchemy.engine</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">propagate = 0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[logger_alembic]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">level = INFO</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">handlers = console</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">qualname = alembic</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">propagate = 0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[handler_console]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">class = StreamHandler</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">args = (sys.stderr,)</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">level = NOTSET</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">formatter = generic</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">[formatter_generic]</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">format = %(asctime)s %(levelname)-5.5s [%(name)s] %(message)s</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"># PostgreSQL example</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">sqlalchemy.url = postgresql://user:password@localhost/dbname</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div>`}</code></pre></CodeCopy></div>
<p><ImgZoom src="/use-alembic-to-already-operation-db/1_Untitled.png" alt="image"></ImgZoom></p>
<h1 id="4.  env.py 파일 설정">4.  env.py 파일 설정</h1><p>alembic/env.py 파일을 열고 SQLAlchemy 모델을 연결</p>
<p>기존 SQLAlchemy 모델을 사용하여 데이터베이스를 반영하자.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># alembic/env.py</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> logging<span class="token punctuation">.</span>config <span class="token keyword">import</span> fileConfig</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> engine_from_config<span class="token punctuation">,</span> pool</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> alembic <span class="token keyword">import</span> context</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># this is the Alembic Config object, which provides</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># access to the values within the .ini file in use.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">config <span class="token operator">=</span> context<span class="token punctuation">.</span>config</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># Interpret the config file for Python logging.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># This line sets up loggers basically.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">fileConfig<span class="token punctuation">(</span>config<span class="token punctuation">.</span>config_file_name<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># add your model's MetaData object here</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># for 'autogenerate' support</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># from myapp import mymodel</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># target_metadata = mymodel.Base.metadata</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> app<span class="token punctuation">.</span>models <span class="token keyword">import</span> Base  <span class="token comment"># Import your Base model</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">target_metadata <span class="token operator">=</span> Base<span class="token punctuation">.</span>metadata</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># other values from the config, defined by the needs of env.py,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># can be acquired:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># my_important_option = config.get_main_option("my_important_option")</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># ... etc.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">def</span> <span class="token function">run_migrations_offline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token triple-quoted-string string">"""Run migrations in 'offline' mode.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    This configures the context with just a URL</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    and not an Engine, though an Engine is acceptable</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    here as well.  By skipping the Engine creation</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    we don't even need a DBAPI to be available.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Calls to context.execute() here emit the given string to the</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    script output.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    """</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    url <span class="token operator">=</span> config<span class="token punctuation">.</span>get_main_option<span class="token punctuation">(</span><span class="token string">"sqlalchemy.url"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    context<span class="token punctuation">.</span>configure<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        url<span class="token operator">=</span>url<span class="token punctuation">,</span> target_metadata<span class="token operator">=</span>target_metadata<span class="token punctuation">,</span> literal_binds<span class="token operator">=</span><span class="token boolean">True</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">with</span> context<span class="token punctuation">.</span>begin_transaction<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        context<span class="token punctuation">.</span>run_migrations<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">def</span> <span class="token function">run_migrations_online</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token triple-quoted-string string">"""Run migrations in 'online' mode.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    In this scenario we need to create an Engine</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    and associate a connection with the context.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    """</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    connectable <span class="token operator">=</span> engine_from_config<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        config<span class="token punctuation">.</span>get_section<span class="token punctuation">(</span>config<span class="token punctuation">.</span>config_ini_section<span class="token punctuation">)</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        prefix<span class="token operator">=</span><span class="token string">"sqlalchemy."</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        poolclass<span class="token operator">=</span>pool<span class="token punctuation">.</span>NullPool<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">with</span> connectable<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> connection<span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        context<span class="token punctuation">.</span>configure<span class="token punctuation">(</span>connection<span class="token operator">=</span>connection<span class="token punctuation">,</span> target_metadata<span class="token operator">=</span>target_metadata<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token keyword">with</span> context<span class="token punctuation">.</span>begin_transaction<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            context<span class="token punctuation">.</span>run_migrations<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">if</span> context<span class="token punctuation">.</span>is_offline_mode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    run_migrations_offline<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">else</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    run_migrations_online<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div>`}</code></pre></CodeCopy></div>
<h1 id="5. 기존 데이터베이스 상태 스냅샷 생성">5. 기존 데이터베이스 상태 스냅샷 생성</h1><p>기존 데이터베이스의 현재 상태를 스냅샷으로 생성하여 Alembic이 현재 상태를 인식하도록 한다.</p>
<p>이를 위해 revision --autogenerate 명령어를 사용합니다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-plain">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">alembic revision --autogenerate -m "Initial migration"</div></div>`}</code></pre></CodeCopy></div>
<p>이 명령어는 현재 데이터베이스 스키마를 기반으로 새로운 마이그레이션 파일을 생성한다.</p>
<p>생성된 파일을 열어 마이그레이션 코드가 올바른지 확인은 필수이다.</p>
<h1 id="6. 데이터베이스 마이그레이션 적용">6. 데이터베이스 마이그레이션 적용</h1><p>생성된 마이그레이션 파일을 사용하여 데이터베이스에 변경 사항을 적용하면 끝난다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">alembic upgrade <span class="token function">head</span></div></div>`}</code></pre></CodeCopy></div>
<h3 id="요약">요약</h3><p>전체 과정을 아래와 같이 요약해 보았다.</p>
<ol>
<li>Alembic을 설치하고 초기화합니다.</li>
<li>alembic.ini</li>
<li>env.py</li>
<li>기존 데이터베이스 상태를 스냅샷으로 생성합니다.</li>
<li>데이터베이스 마이그레이션을 적용합니다.</li>
</ol>
<p><ImgZoom src="/use-alembic-to-already-operation-db/2_Untitled.png" alt="image"></ImgZoom></p>
<p>작성하다보니, model.py code도 어디에서도 찾을 수 없고 수 십, 수 백 테이블을 사용 있다면… models을 한번에 생성하는 방법은 없을까..?! 고민된다.</p>
]]></content>
    <category term="python" scheme="https://naya-an-tech.github.io/?tags=python" />
<category term="database" scheme="https://naya-an-tech.github.io/?tags=database" />
<category term="db" scheme="https://naya-an-tech.github.io/?tags=db" />
<category term="alembic" scheme="https://naya-an-tech.github.io/?tags=alembic" />
<category term="dbmigration" scheme="https://naya-an-tech.github.io/?tags=dbmigration" />
<category term="디비마이그레이션" scheme="https://naya-an-tech.github.io/?tags=%EB%94%94%EB%B9%84%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98" />
<category term="파이썬" scheme="https://naya-an-tech.github.io/?tags=%ED%8C%8C%EC%9D%B4%EC%8D%AC" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[[SvelteKit] 데이터 load 최적화 해보기]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/sveltekit-load-data-optimization" />
    <id>https://naya-an-tech.github.io/sveltekit-load-data-optimization</id>
    <published>2024-06-15T15:51:46.230Z</published>
    <updated>2024-06-15T17:01:38.151Z</updated>
    <summary type="html"><![CDATA[csr , ssr 동시에 사용하기!]]></summary>
    <content type="html"><![CDATA[<p>sveltekit에서 페이지 로딩시 데이터를 불러오는 방법은 크게 두 가지가 있다. </p>
<p>+page.js : CSR 클라이언트 단에서 데이터를 로드한다.</p>
<p>+page.server.js : SSR 서버단에서 데이터를 로드한다.</p>
<p>그런데 이런 경우를 생각해보자.</p>
<p>상품 리스트를 보는 페이지가 있다. </p>
<p>사용자가 로그인시, 내가 좋아요 혹은 찜을 한 상품인 경우 빨간하트를 표시하기위해 is_liked (내가 좋아요 누른상품) 필드로 상품 리스트를 구별한다고 해보자.</p>
<p>이걸 서버사이드에서 구현한다고하면, </p>
<ul>
<li>get_product_list (offset, limit)</li>
<li>get_my_like_product_by_product_id(user_id, product_ids)</li>
<li>return
<ImgZoom src="/sveltekit-load-data-optimization/0_Untitled.png" alt="image"></ImgZoom></li>
</ul>
<p>이렇게 상품정보와 내가 좋아요를 누른 상품들 정보를 가지고와서 합쳐서 내보낼 것이다.</p>
<p>서버사이드로 구현시 유저 별 정보를 제공할 때 비효율이 발생한다. (SEO 측면에서도 좋지않을 것 같다)</p>
<p>상품정보는 서버단에서 가져오고, 내가 좋아요를 누른 상품정보는 클라이언트 단에서 가져와 합쳐서 사용하는 방식이 효율적이지 않을까? 라는 점에서 두개 모두 사용하는 방법에 대해서 알아보았다.</p>
<p>도큐먼트를 읽어보면 페이지를 로드할 때 실행되는 순서를 확인해보면 아래와 같다.</p>
<p><ImgZoom src="/sveltekit-load-data-optimization/1_Untitled.png" alt="image"></ImgZoom></p>
<p>+page.server.js → +page.js → +page.svelte 순서로 데이터가 흘러감.</p>
<p>위순서를 생각해서 코드를 작성해보자.</p>
<h1 id="1. 간단한 라우트 생성">1. 간단한 라우트 생성</h1><p>아래와 같이 sveltekit project에서 products 라우트를 생성한다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">sveltekit-project</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">├── src</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">│   ├── routes</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">│   │   ├── products</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">│   │   │   ├── +page.js</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">│   │   │   ├── +page.server.js</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">│   │   │   └── +page.svelte</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">│   └── app.html</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">└── svelte.config.js</div></div>`}</code></pre></CodeCopy></div>
<h1 id="2. +page.server.js 작성">2. +page.server.js 작성</h1><p>서버단에서는 프로덕트 리스트를 불러온다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-javascript">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">// src/routes/products/+page.server.js</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">import {getProducts} from '&#36;lib/api/products';</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">export function load({ url }) {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  const searchParams = url.searchParams;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  const page = parseInt(searchParams.get('page')) || 1;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  const response = await getProducts({page:page,size:20})</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  return {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    products: response.results</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  };</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">}</div></div>`}</code></pre></CodeCopy></div>
<h1 id="3. +page.js 작성">3. +page.js 작성</h1><p>클라이언트 단에서 +page.server.js 의 data를 받아, 유저가 좋아요를 누른 상품 정보를 가져와 정보를 추가해 준다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-javascript">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">// src/routes/products/+page.js</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">import {getLikedProductByIds} from '&#36;lib/api/products';</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">import {mergeProductInfo} from '&#36;lib/common/utils';</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">export async function load({ data, fetch }) {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  // 서버에서 받은 데이터를 클라이언트로 전달</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  // id list 생성</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  let product_ids = data.products.map((product) =&gt; product.id);</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  // 클라이언트 측에서 추가 데이터 로드 예시 (여기서는 동일한 데이터 사용)</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  const response = await getLikedProductByIds({ids:product_ids});</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        for (const [k, v] of Object.entries(response)) {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        if (org_dict.hasOwnProperty(k)) {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            org_dict[k]["like"] = v;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        }</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    }</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    // 좋아요 정보를 product에 추가</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    await mergeProductInfo(data.products , response)</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  return {...data};</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">}</div></div>`}</code></pre></CodeCopy></div>
<h1 id="4. +page.svelte 에서 사용하기">4. +page.svelte 에서 사용하기</h1><p>사용할 땐 2가지 방법이 있다. </p>
<p>해당 load 함수를 직접 import 하여 사용하는 방법.</p>
<p>이 방법으로 받을 때는 예약어인 data를 미리 구조분해해서 받을 수 있다.  </p>
<div class="code-block  "><CodeCopy><pre><code class="language-javascript">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;script context="module"&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  export { load } from './+page.js';</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;/script&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;script&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  export let products;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;/script&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;main&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  ... // product list container</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;/main&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;style&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  a[disabled] {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    pointer-events: none;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    color: grey;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  }</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;/style&gt;</div></div>`}</code></pre></CodeCopy></div>
<p>혹은 아래처럼 예약된 data를 통해 구조분해 할당으로 데이터를 받는다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-javascript">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;script&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  export let data;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  const { products, meta } = data;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;/script&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;main&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  ... // product list container</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;/main&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;style&gt;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  a[disabled] {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    pointer-events: none;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    color: grey;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  }</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&lt;/style&gt;</div></div>`}</code></pre></CodeCopy></div>
<p>상품 데이터는 서버로 부터, 유저의 좋아요 정보는 클라이언트에서 받아오도록 분리하였다.</p>
<p>이렇게 서버단 클라이언트단을 분리하여 가져오도록하면 캐싱면에서도 효율적이다.</p>
]]></content>
    <category term="svelte" scheme="https://naya-an-tech.github.io/?tags=svelte" />
<category term="sveltekit" scheme="https://naya-an-tech.github.io/?tags=sveltekit" />
<category term="스벨트" scheme="https://naya-an-tech.github.io/?tags=%EC%8A%A4%EB%B2%A8%ED%8A%B8" />
<category term="스벨트킷" scheme="https://naya-an-tech.github.io/?tags=%EC%8A%A4%EB%B2%A8%ED%8A%B8%ED%82%B7" />
<category term="data load" scheme="https://naya-an-tech.github.io/?tags=data%20load" />
<category term="CSR" scheme="https://naya-an-tech.github.io/?tags=CSR" />
<category term="SSR" scheme="https://naya-an-tech.github.io/?tags=SSR" />
<category term="page.server.js" scheme="https://naya-an-tech.github.io/?tags=page.server.js" />
<category term="page.js" scheme="https://naya-an-tech.github.io/?tags=page.js" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[[GitOps] git action local 환경 구축 (with act)]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/gitops-local-setting-with-act" />
    <id>https://naya-an-tech.github.io/gitops-local-setting-with-act</id>
    <published>2024-06-12T12:51:33.107Z</published>
    <updated>2024-06-12T13:15:37.627Z</updated>
    <summary type="html"><![CDATA[undefined]]></summary>
    <content type="html"><![CDATA[<p>develop branch 가 업데이트되거나, pr이 생성되었을 때마다 테스트를 실행하거나, release tag가 생성되어 프로덕션을 빌드를 자동화하기위해 gitops, workflows를 작성하곤한다.</p>
<p>매번 git repo에 올려가며 테스트해왔으나, 번거로움이 많아 로컬에서 동일한 환경을 구축하여 git action을 테스트 해본 뒤 커밋하기위해 로컬 환경을 구축해보자. </p>
<h1 id="Act 설치">Act 설치</h1><p>먼저 act를 설치합니다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">brew <span class="token function">install</span> act </div></div>`}</code></pre></CodeCopy></div>
<p><ImgZoom src="/gitops-local-setting-with-act/0_Untitled.png" alt="image"></ImgZoom></p>
<p><ImgZoom src="/gitops-local-setting-with-act/1_Untitled.png" alt="image"></ImgZoom></p>
<p>설치가 완료되었다. act는 도커를 사용하고있으므로, 도커가 미리 설치되어있어야합니다.</p>
<p>작업중인 repo로 진입하여 아래의 workflow들을 확인해 본다.</p>
<h2 id="workflow  기본 명령어">workflow  기본 명령어</h2><div class="code-block  "><CodeCopy><pre><code class="language-shell">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 기본 workflow 목록 가져오기</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token parameter variable">-l</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># m 시리즈 mac일 경우</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token parameter variable">-l</span> --container-architecture linux/amd64</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 특정한 job들만 확인하기</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token parameter variable">-j</span> job_name <span class="token parameter variable">-l</span></div></div>`}</code></pre></CodeCopy></div>
<h2 id="workflow 로컬에서 실행">workflow 로컬에서 실행</h2><div class="code-block  "><CodeCopy><pre><code class="language-shell">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># (기본)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># (기본), m시리즈 mac일 경우</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act --container-architecture linux/amd64</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 특정 이벤트 트리거</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act pull_request</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 특정한 job만 실행하기</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token parameter variable">-j</span> job_name</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 특정한 workflow만 실행하기</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token parameter variable">-j</span> jobID <span class="token parameter variable">-W</span> .github/workflows/<span class="token punctuation">[</span>Selected-Workflow<span class="token punctuation">]</span>.yml</div></div>`}</code></pre></CodeCopy></div>
<h1 id="SECRET  설정">SECRET  설정</h1><h2 id="실행시 arg로 넘기기">실행시 arg로 넘기기</h2><div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token parameter variable">-s</span> <span class="token assign-left variable">KEY</span><span class="token operator">=</span>VALUE</div></div>`}</code></pre></CodeCopy></div>
<h2 id="파일로 관리하기 my.secret">파일로 관리하기 my.secret</h2><p>** 주의! .gitignore에 my.secret을 등록해두어, commit에 포함되지않도록 잘 관리하길 바란다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-plain">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"># my.secrets</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">KEY=Value</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">KEY=Value</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">KEY=Value</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">KEY=Value</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">KEY=Value</div></div>`}</code></pre></CodeCopy></div>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act --secret-file my.secrets</div></div>`}</code></pre></CodeCopy></div>
<p>SSH_KEY 같은 경우 라인을 많이 차지하고, +와같은 특수문자로인해 파싱애러가 날때가 있습니다.</p>
<p>이럴땐 “ “ 쌍따옴표로 묶어서 사용하도록하자.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token assign-left variable">SSH_PRIVATE_KEY</span><span class="token operator">=</span><span class="token string">"-----BEGIN EC PRIVATE KEY-----</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">...</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">-----END EC PRIVATE KEY-----"</span></div></div>`}</code></pre></CodeCopy></div>
<h1 id="act 실행">act 실행</h1><p>처음 실행하면, act runner docker image를 다운받으려한다. 적당히 미디움으로 선택합니다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Using <span class="token function">docker</span> <span class="token function">host</span> <span class="token string">'unix:///var/run/docker.sock'</span>, and daemon socket <span class="token string">'unix:///var/run/docker.sock'</span> </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">WARN  ⚠ You are using Apple M-series chip and you have not specified container architecture, you might encounter issues <span class="token keyword">while</span> running act. If so, try running it with <span class="token string">'--container-architecture linux/amd64'</span><span class="token builtin class-name">.</span> ⚠  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">? Please choose the default image you want to use with act:</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  - Large size image: ca. 17GB download + <span class="token number">53</span>.1GB storage, you will need 75GB of <span class="token function">free</span> disk space, snapshots of GitHub Hosted Runners without snap and pulled <span class="token function">docker</span> images</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  - Medium size image: ~500MB, includes only necessary tools to bootstrap actions and aims to be compatible with <span class="token function">most</span> actions</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  - Micro size image: <span class="token operator">&lt;</span>200MB, contains only NodeJS required to bootstrap actions, doesn't work with all actions</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Default image and other options can be changed manually <span class="token keyword">in</span> ~/.actrc <span class="token punctuation">(</span>please refer to https://github.com/nektos/act<span class="token comment">#configuration for additional information about file structure)  [Use arrows to move, type to filter, ? for more help]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  Large</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token operator">></span> Medium</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  Micro</div></div>`}</code></pre></CodeCopy></div>
<p><ImgZoom src="/gitops-local-setting-with-act/2_Untitled.png" alt="image"></ImgZoom></p>
<div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"> Medium</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">[</span>gitops test/manifest-test<span class="token punctuation">]</span> 🚀  Start <span class="token assign-left variable">image</span><span class="token operator">=</span>catthehacker/ubuntu:act-20.04</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">[</span>gitops test/manifest-test<span class="token punctuation">]</span>   🐳  <span class="token function">docker</span> pull <span class="token assign-left variable">image</span><span class="token operator">=</span>catthehacker/ubuntu:act-20.04 <span class="token assign-left variable">platform</span><span class="token operator">=</span> <span class="token assign-left variable">username</span><span class="token operator">=</span> <span class="token assign-left variable">forcePull</span><span class="token operator">=</span>true</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">[</span>gitops test/manifest-test<span class="token punctuation">]</span> using DockerAuthConfig authentication <span class="token keyword">for</span> <span class="token function">docker</span> pull</div></div>`}</code></pre></CodeCopy></div>
<h1 id="실습">실습</h1><p>.github/workflows 경로에 deploy.yaml 을 하나 작성합니다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-yaml">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to Kubernetes</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token key atrule">on</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  <span class="token key atrule">push</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token key atrule">branches</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">      <span class="token punctuation">-</span> main</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token key atrule">jobs</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  <span class="token key atrule">deploy</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token key atrule">steps</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout code</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set up Kubernetes CLI</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">      <span class="token key atrule">uses</span><span class="token punctuation">:</span> azure/setup<span class="token punctuation">-</span>kubectl@v1</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">      <span class="token key atrule">with</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token key atrule">version</span><span class="token punctuation">:</span> v1.21.0</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Authenticate to Kubernetes cluster</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        echo "&#36;{{ secrets.KUBE_CONFIG }}" | base64 --decode > &#36;HOME/.kube/config</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to Kubernetes</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        kubectl apply -f k8s/</span></div></div>`}</code></pre></CodeCopy></div>
<h2 id="워크플로우 목록 확인하기">워크플로우 목록 확인하기</h2><p>act -l 로 워크플로우 목록을 확인합니다.</p>
<p><ImgZoom src="/gitops-local-setting-with-act/3_Untitled.png" alt="image"></ImgZoom></p>
<p>m시리즈 맥북의경우 아키텍쳐 경고가 나옵니다. --container-architecture linux/amd64  옵션을 추가합니다.</p>
<p><ImgZoom src="/gitops-local-setting-with-act/4_Untitled.png" alt="image"></ImgZoom></p>
<h2 id="특정 워크플로우 실행">특정 워크플로우 실행</h2><p>하나의 워크플로우를 전체 실행하고싶다면 -W 옵션으로 workflow yaml을 지정하여 실행</p>
<div class="code-block  "><CodeCopy><pre><code class="language-yaml">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token punctuation">-</span>W .github/workflows/deploy.yaml</div></div>`}</code></pre></CodeCopy></div>
<h2 id="특정 잡 실행">특정 잡 실행</h2><p>-j 옵션을 통해 -l 리스트에서 본 job id 로 실행합니다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-yaml">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">act <span class="token punctuation">-</span>j deploy</div></div>`}</code></pre></CodeCopy></div>
]]></content>
    <category term="gitops" scheme="https://naya-an-tech.github.io/?tags=gitops" />
<category term="k8s" scheme="https://naya-an-tech.github.io/?tags=k8s" />
<category term="act" scheme="https://naya-an-tech.github.io/?tags=act" />
<category term="local-setting" scheme="https://naya-an-tech.github.io/?tags=local-setting" />
<category term="environment" scheme="https://naya-an-tech.github.io/?tags=environment" />
<category term="깃옵스" scheme="https://naya-an-tech.github.io/?tags=%EA%B9%83%EC%98%B5%EC%8A%A4" />
<category term="로컬환경구축" scheme="https://naya-an-tech.github.io/?tags=%EB%A1%9C%EC%BB%AC%ED%99%98%EA%B2%BD%EA%B5%AC%EC%B6%95" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[[Elasticsearch] elasticsearch dsl 파이썬 예제 - 연결, 색인]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/es-dsl-tutorial-connection-index" />
    <id>https://naya-an-tech.github.io/es-dsl-tutorial-connection-index</id>
    <published>2024-06-09T12:30:38.416Z</published>
    <updated>2024-06-09T12:35:05.559Z</updated>
    <summary type="html"><![CDATA[elasticsearch-dsl 사용 예제, 기존 코드와 비교]]></summary>
    <content type="html"><![CDATA[<p><ImgZoom src="/es-dsl-tutorial-connection-index/0_Untitled.png" alt="image"></ImgZoom></p>
<h1 id="elasticsearch dsl 사용 예제 - 1편 - 연결과 색인">elasticsearch dsl 사용 예제 - 1편 - 연결과 색인</h1><p>elasticsearch dsl을 통해서 elasticsearch를 사용해보려한다.</p>
<p>기존 사용방법들도 함께 첨부하면서 어떤점이 달라지는지 확인해보자!  </p>
<h2 id="1. 연결 (connect)">1. 연결 (connect)</h2><div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 기존 연결</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> elasticsearch <span class="token keyword">import</span> Elasticsearch</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 코디네이터 노드와 연결</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ES_HOSTS <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"http://localhost:9200"</span><span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ES_CLIENT <span class="token operator">=</span> Elasticsearch<span class="token punctuation">(</span>ES_HOSTS<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ES_CLIENT <span class="token operator">=</span> Elasticsearch<span class="token punctuation">(</span>ES_HOSTS<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment"># connection timeout 설정</span></div></div>`}</code></pre></CodeCopy></div>
<div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># elasticsearch dsl 연결</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> elasticsearch_dsl <span class="token keyword">import</span> connections</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># port 를 명시해야함.</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ES_HOSTS <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"http://localhost:9200"</span><span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ES_HOSTS_DEV <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"http://localhost:9200"</span><span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ES_HOSTS_STAGE <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"http://localhost:9200"</span><span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ES_HOSTS_PROD <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"http://localhost:9200"</span><span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 연결 . Search에서 사용.(2,3 확인)  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">connections<span class="token punctuation">.</span>create_connection<span class="token punctuation">(</span>hosts<span class="token operator">=</span>ES_HOSTS<span class="token punctuation">,</span> alias<span class="token operator">=</span><span class="token string">"local"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># timeout 설정  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">connections<span class="token punctuation">.</span>create_connection<span class="token punctuation">(</span>hosts<span class="token operator">=</span>ES_HOSTS<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> alias<span class="token operator">=</span><span class="token string">"local"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># alias 를 명시할 시 dev/stage/prod를 구분할 수 있음.  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">connections<span class="token punctuation">.</span>create_connection<span class="token punctuation">(</span>hosts<span class="token operator">=</span>ES_HOSTS_DEV<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> alias<span class="token operator">=</span><span class="token string">"dev"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">connections<span class="token punctuation">.</span>create_connection<span class="token punctuation">(</span>hosts<span class="token operator">=</span>ES_HOSTS_STAGE<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> alias<span class="token operator">=</span><span class="token string">"dev"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">connections<span class="token punctuation">.</span>create_connection<span class="token punctuation">(</span>hosts<span class="token operator">=</span>ES_HOSTS_PROD<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> alias<span class="token operator">=</span><span class="token string">"prod"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># sniff_on_start 를 사용하면 lazy connect가 가능  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">connections<span class="token punctuation">.</span>create_connection<span class="token punctuation">(</span>hosts<span class="token operator">=</span>ES_HOSTS<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> alias<span class="token operator">=</span><span class="token string">"local"</span><span class="token punctuation">,</span> sniff_on_start<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></div></div>`}</code></pre></CodeCopy></div>
<h2 id="2. 색인 (index)">2. 색인 (index)</h2><div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment">#기존  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># index, mapping 생성  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 기존. helpers 사용  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> elasticsearch <span class="token keyword">import</span> Elasticsearch<span class="token punctuation">,</span> helpers</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># ... es 생성 생략  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">bulk_action_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">products <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># doc info [(doc_id, info)]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">for</span> doc_id<span class="token punctuation">,</span> info <span class="token keyword">in</span> products<span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token comment"># action 생성    </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    action <span class="token operator">=</span> <span class="token punctuation">{</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_op_type"</span><span class="token punctuation">:</span> <span class="token string">"index"</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_index"</span><span class="token punctuation">:</span> <span class="token string">"my_index"</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_id"</span><span class="token punctuation">:</span> doc_id<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_source"</span><span class="token punctuation">:</span> info<span class="token punctuation">,</span> <span class="token comment"># op_type이 update일 경우 "doc"으로 변경     </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token punctuation">}</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    bulk_action_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>action<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 색인</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">_res <span class="token operator">=</span> helpers<span class="token punctuation">.</span>bulk<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    ES_CLIENT<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    bulk_action_list<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    raise_on_error<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    chunk_size<span class="token operator">=</span>config<span class="token punctuation">.</span>chunk_size</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 색인시 chunk 단위로 분할하여 색인  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">CHUNK_SIZE <span class="token operator">=</span> <span class="token number">100</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">_res <span class="token operator">=</span> helpers<span class="token punctuation">.</span>bulk<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    ES_CLIENT<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    bulk_action_list<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 색인시 chunk 단위로 분할하여 색인, response 결과 간소화.  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># helpers lib 단에서 결과를 간소화함. es응답을 완전 간소화하는 방법은 es색인 최적화 포스트를 확인하기 바람(추후 업로드 예정)  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">CHUNK_SIZE <span class="token operator">=</span> <span class="token number">100</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">_res <span class="token operator">=</span> helpers<span class="token punctuation">.</span>bulk<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    ES_CLIENT<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    bulk_action_list<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    stats_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 색인시 chunk 단위로 분할하여 색인 , error 무시  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">CHUNK_SIZE <span class="token operator">=</span> <span class="token number">100</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">_res <span class="token operator">=</span> helpers<span class="token punctuation">.</span>bulk<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    ES_CLIENT<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    bulk_action_list<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    chunk_size<span class="token operator">=</span>CHUNK_SIZE</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 색인시 chunk 단위로 분할하여 색인 , error 무시 , 색인과 동시에 index refresh  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">CHUNK_SIZE <span class="token operator">=</span> <span class="token number">100</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">_res <span class="token operator">=</span> helpers<span class="token punctuation">.</span>bulk<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    ES_CLIENT<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    bulk_action_list<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    raise_on_error<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    chunk_size<span class="token operator">=</span>CHUNK_SIZE<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    refresh<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 색인시 chunk 단위로 분할하여 색인 , error 무시 , 색인과 동시에 index refresh , 재시도 횟수 지정  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">CHUNK_SIZE <span class="token operator">=</span> <span class="token number">100</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">MAX_RETRIES <span class="token operator">=</span> <span class="token number">3</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">_res <span class="token operator">=</span> helpers<span class="token punctuation">.</span>bulk<span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    ES_CLIENT<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    bulk_action_list<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    raise_on_error<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    chunk_size<span class="token operator">=</span>CHUNK_SIZE<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    refresh<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    max_retries<span class="token operator">=</span>MAX_RETRIES<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">)</span></div></div>`}</code></pre></CodeCopy></div>
<div class="code-block  "><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># elasticsearch_dsl</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># index , mapping 설정</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> elasticsearch_dsl <span class="token keyword">import</span> Index</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">settings <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment"># setting 설정  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># es document model 생성  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># https://elasticsearch-dsl.readthedocs.io/en/latest/api.html#elasticsearch_dsl.Index.document   </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> elasticsearch_dsl <span class="token keyword">import</span> <span class="token punctuation">(</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Boolean<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Date<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    DenseVector<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Document<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    HalfFloat<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Index<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Integer<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Keyword<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Long<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Nested<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    Text<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 어노테이션으로 index의 mapping 선언  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token decorator annotation punctuation">@my_index<span class="token punctuation">.</span>document</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">class</span> <span class="token class-name">EsDocument</span><span class="token punctuation">(</span>Document<span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    keyword_field <span class="token operator">=</span> Keyword<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    text_field <span class="token operator">=</span> Text<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    integer_field <span class="token operator">=</span> Integer<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    boolean_field <span class="token operator">=</span> Boolean<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># class는 내부에 선언할 수 있음.  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">class</span> <span class="token class-name">EsDocument</span><span class="token punctuation">(</span>Document<span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    title <span class="token operator">=</span> Text<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    author <span class="token operator">=</span> Keyword<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    content <span class="token operator">=</span> Text<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    published_at <span class="token operator">=</span> Date<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">class</span> <span class="token class-name">Index</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        name <span class="token operator">=</span> <span class="token string">'my_index'</span>        </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        settings <span class="token operator">=</span> <span class="token punctuation">{</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            <span class="token string">"number_of_shards"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            <span class="token string">"number_of_replicas"</span><span class="token punctuation">:</span> <span class="token number">0</span>        </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            <span class="token punctuation">}</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">index_name <span class="token operator">=</span> <span class="token string">"my_index"</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">es_url <span class="token operator">=</span> <span class="token string">"http://localhost:9200"</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment">#request 이용.  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">def</span> <span class="token function">generate_index</span><span class="token punctuation">(</span>es_url<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> index_name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token comment"># load mappings     </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    _index <span class="token operator">=</span> Index<span class="token punctuation">(</span>index_name<span class="token punctuation">)</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    _index<span class="token punctuation">.</span>settings<span class="token punctuation">(</span><span class="token operator">**</span>settings<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    _index<span class="token punctuation">.</span>document<span class="token punctuation">(</span>EsDocument<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    mappings <span class="token operator">=</span> _index<span class="token punctuation">.</span>to_dict<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">try</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>put<span class="token punctuation">(</span>es_url<span class="token punctuation">,</span> json<span class="token operator">=</span>mappings<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token keyword">if</span> res<span class="token punctuation">.</span>status_code <span class="token operator">!=</span> <span class="token number">200</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span>res<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"Index is created"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span>e<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token keyword">raise</span> e</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">finally</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"FINISH"</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">generate_index<span class="token punctuation">(</span>es_url<span class="token punctuation">,</span> index_name<span class="token punctuation">)</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># dsl 이용.  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">my_index <span class="token operator">=</span> Index<span class="token punctuation">(</span><span class="token string">'my_index'</span><span class="token punctuation">)</span>  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">my_index<span class="token punctuation">.</span>settings<span class="token punctuation">(</span><span class="token operator">**</span>settings<span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">my_index<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">my_index<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># 색인  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># # bulk의 경우 helpers를 그대로 이용.   </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">from</span> elasticsearch <span class="token keyword">import</span> Elasticsearch<span class="token punctuation">,</span> helpers  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">products <span class="token operator">=</span> <span class="token punctuation">[</span>EsDocument<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># EsDocument를 가지고 info 생성  </span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">bulk_action_list <span class="token operator">=</span> <span class="token punctuation">[</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">{</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_op_type"</span><span class="token punctuation">:</span> <span class="token string">"index"</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_index"</span><span class="token punctuation">:</span> doc<span class="token punctuation">.</span>Index<span class="token punctuation">.</span>name<span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_id"</span><span class="token punctuation">:</span> doc<span class="token punctuation">.</span>meta<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">        <span class="token string">"_source"</span><span class="token punctuation">:</span> doc<span class="token punctuation">.</span>to_dict<span class="token punctuation">(</span>include_meta<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token punctuation">}</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">for</span> doc <span class="token keyword">in</span> products</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token punctuation">]</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token comment"># ... 이후 동일</span></div></div>`}</code></pre></CodeCopy></div>
]]></content>
    <category term="elasticsearch" scheme="https://naya-an-tech.github.io/?tags=elasticsearch" />
<category term="tutorial" scheme="https://naya-an-tech.github.io/?tags=tutorial" />
<category term="python" scheme="https://naya-an-tech.github.io/?tags=python" />
<category term="elasticsearch-dsl" scheme="https://naya-an-tech.github.io/?tags=elasticsearch-dsl" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[ssh 수동복사 권한 설정]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/setting-ssh-file-permission" />
    <id>https://naya-an-tech.github.io/setting-ssh-file-permission</id>
    <published>2024-06-03T13:59:18.748Z</published>
    <updated>2024-06-03T13:59:18.750Z</updated>
    <summary type="html"><![CDATA[undefined]]></summary>
    <content type="html"><![CDATA[<h1 id="SSH key 수동 복사 권한 설정">SSH key 수동 복사 권한 설정</h1><p>가끔 서버접속 key들을 파일로 받을 때가 있다. (이런경우가 최대한 없길바란다…ㅎㅎ)</p>
<p>디렉토리와 키파일의 권한이 적절하지않을 때 아래의 방법을 따라한다.</p>
<ol>
<li>.ssh</li>
<li>개인키(id_ed25519) 파일 권한 변경:</li>
<li>공개키(id_ed25519.pub) 파일 권한 변경:</li>
</ol>
<p>권한 변경 후에는 다음과 같이 확인할 수 있다.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-shell">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /home/user/.ssh</div></div>`}</code></pre></CodeCopy></div>
<p>출력 결과:</p>
<div class="code-block  "><CodeCopy><pre><code class="language-shell">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">total <span class="token number">8</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">-rw------- <span class="token number">1</span> user user <span class="token number">411</span> May <span class="token number">14</span> <span class="token number">13</span>:53 id_ed25519</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">-rw-r--r-- <span class="token number">1</span> user user  <span class="token number">98</span> May <span class="token number">14</span> <span class="token number">13</span>:53 id_ed25519.pub</div></div>`}</code></pre></CodeCopy></div>
<p>이제 .ssh 디렉터리와 키 파일의 권한이 적절하게 설정되다. SSH 연결 시 개인키 파일의 권한이 너무 열려있으면 보안 위험이 있으므로 주의해야 한다.</p>
<h1 id="등록">등록</h1><p>그래도 key가 작동하지않으면 ssh key를 등록해주자.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-shell">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">&#36;(</span>ssh-agent <span class="token parameter variable">-s</span><span class="token variable">)</span></span>"</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">ssh-add ~/.ssh/id_ed25519</div></div>`}</code></pre></CodeCopy></div>
]]></content>
    <category term="ubuntu" scheme="https://naya-an-tech.github.io/?tags=ubuntu" />
<category term="mac" scheme="https://naya-an-tech.github.io/?tags=mac" />
<category term="ssh" scheme="https://naya-an-tech.github.io/?tags=ssh" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[giscus 댓글 기능]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/how-to-set-giscus-to-github-page" />
    <id>https://naya-an-tech.github.io/how-to-set-giscus-to-github-page</id>
    <published>2024-05-10T19:07:05.353Z</published>
    <updated>2024-05-11T15:39:33.174Z</updated>
    <summary type="html"><![CDATA[giscus를 활용핫 댓글 기능 만들기]]></summary>
    <content type="html"><![CDATA[]]></content>
    <category term="blog" scheme="https://naya-an-tech.github.io/?tags=blog" />
<category term="free-comment" scheme="https://naya-an-tech.github.io/?tags=free-comment" />
<category term="giscus" scheme="https://naya-an-tech.github.io/?tags=giscus" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[GPT와 함께 찾아본 디팬던시 코드 배포 자동화]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/dependency-code-deploy-automation-with-gpt" />
    <id>https://naya-an-tech.github.io/dependency-code-deploy-automation-with-gpt</id>
    <published>2024-05-10T19:07:05.353Z</published>
    <updated>2024-05-11T15:39:33.174Z</updated>
    <summary type="html"><![CDATA[undefined]]></summary>
    <content type="html"><![CDATA[<h1 id="상황">상황</h1><p>현재 모노 레포를 운영 중에 많은 코드들과 test코드로 인해 빌드 시간이 점점 길어지고있다.</p>
<p>해당 서비스 배포 전, 관련된 코드들이 무엇인지 찾고 그 코드들의 test code만 실행하여 빌드시간을 단축시켜보려고 한다.</p>
<p>GPT에게 질문해보고 관련 답변으로 다시 한번 생각해보자!</p>
<h1 id="GPT에게 질문">GPT에게 질문</h1><h2 id="우리의 상황을 먼저 설명하자">우리의 상황을 먼저 설명하자</h2><div class="code-block  "><CodeCopy><pre><code class="language-bash">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">우리는 파이썬으로, 모노레포를 추구하고있어. </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">여기에는 약 <span class="token number">50</span>개의 project와 각각의 프로젝트에 api, daemon worker<span class="token punctuation">(</span>with kafka<span class="token punctuation">)</span>, batch worker 가 <span class="token number">5</span>~10개씩,  </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">MSA 형태로 약 <span class="token number">400</span>개의 프로세스가 운영되고있는 서비스를 관리하고있어.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">또 배포를 위한 k8s manifest, 즉, deployment yaml이 있고, </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">각 yaml에는 최종적으로 실행시키는 command가 항상 있어.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">이 커멘드를 활용하여,</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">역으로 해당 deployment가 어떠한 코드들과 연관되어있는지를 추적하고, </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">모노레포에서 특정 파이썬 코드가 추가/삭제/변경됨에 따라, </div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">어떠한 deployment를 업데이트 해야하는지를 알 수 있는 도구를 만들려고 해.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">혹은 이미 도구가 있다면 추천도 좋아.</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">어떻게 해당문제를 접근하면 좋을까?</div></div>`}</code></pre></CodeCopy></div>
<h2 id="GPT 답변">GPT 답변</h2><p>ChatGPT</p>
<p>모노레포에서 여러 프로젝트를 관리하면서, 특정 파이썬 코드의 변경에 따라 영향을 받는 서비스(또는 deployment)를 식별하는 것은 효율적인 CI/CD 파이프라인을 구축하는 데 있어 중요한 부분입니다. 여기에는 몇 가지 접근 방법이 있습니다:</p>
<ol>
<li>코드 기반의 의존성 추적</li>
<li>Deployment YAML과의 매핑</li>
<li>변경 감지 자동화</li>
<li>도구 활용</li>
<li>사용자 정의 도구 개발
이러한 접근 방법을 통해, 코드 변경이 있을 때 필요한 서비스만 선택적으로 배포함으로써, 리소스를 절약하고 배포 시간을 단축할 수 있습니다. 여러분의 시스템과 프로세스에 가장 적합한 방법을 선택하고 필요에 따라 조정하여 적용하는 것이 중요합니다.</li>
</ol>
<h2 id="다시 질문하자. 코드 디펜던시를 찾는 도구 추천.">다시 질문하자. 코드 디펜던시를 찾는 도구 추천.</h2><ol>
<li>./projects/projectA/src/main.py 를 읽어 import문을 기반으로 연관된 모든 파일들의 목록을 찾는 도구를 개발 또는 이미 있는 도구를 추천해줘.</li>
</ol>
<p>ChatGPT</p>
<p>파이썬 파일에서 import 문을 기반으로 연관된 모든 파일을 찾는 작업은 의존성 분석에 해당합니다. 이를 수행할 수 있는 몇 가지 방법과 도구를 소개합니다:</p>
<ol>
<li>Python 스크립트 사용</li>
<li>Pydeps</li>
<li>Snakefood</li>
<li>Modulegraph
이 중에서 가장 적합한 도구나 방법을 선택하여 사용하면, 주어진 Python 파일과 연관된 모든 파일들의 목록을 효과적으로 찾을 수 있을 것입니다. 만약 자세한 구현 방법이나 사용 방법에 대해 더 알고 싶다면, 추가로 질문해 주세요.</li>
</ol>
<p>위 답변을 참고해서 모노 레포에서 효율적인 테스트 코드를 실행시키도록 개선해보자!</p>
]]></content>
    <category term="GPT" scheme="https://naya-an-tech.github.io/?tags=GPT" />
<category term="cleancode" scheme="https://naya-an-tech.github.io/?tags=cleancode" />
<category term="code depandency" scheme="https://naya-an-tech.github.io/?tags=code%20depandency" />
<category term="CI/CD" scheme="https://naya-an-tech.github.io/?tags=CI/CD" />
<category term="mono repo" scheme="https://naya-an-tech.github.io/?tags=mono%20repo" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[[vscode] 등록된 소스제어 공급자가 없습니다.]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/vscode-not-found-git" />
    <id>https://naya-an-tech.github.io/vscode-not-found-git</id>
    <published>2024-05-10T19:07:05.352Z</published>
    <updated>2024-05-11T15:39:33.174Z</updated>
    <summary type="html"><![CDATA[undefined]]></summary>
    <content type="html"><![CDATA[<p>vscode 등록된 소스 제어 공급자가 없습니다. </p>
<p>애러가 종종 나곤한다. 처음에는 왜 나는지 알 수가 없어 이것저것 찾아보았다.</p>
<p><ImgZoom src="/vscode-not-found-git/0_Untitled.png" alt="image"></ImgZoom></p>
<p>vscode에 git이 활성화되어있지 않을 때 발생하는 것으로 확인했다.</p>
<p>확장 &gt; GIT을 검색하여 해당 모듈을 “사용”으로 변경.</p>
<p><ImgZoom src="/vscode-not-found-git/1_Untitled.png" alt="image"></ImgZoom></p>
<p>@builtin git</p>
<p>이제 커밋 변경사항이 잘 보인다.</p>
<p><ImgZoom src="/vscode-not-found-git/2_Untitled.png" alt="image"></ImgZoom></p>
]]></content>
    <category term="vscode" scheme="https://naya-an-tech.github.io/?tags=vscode" />
<category term="git" scheme="https://naya-an-tech.github.io/?tags=git" />
<category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[undefined]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/TIL" />
    <id>https://naya-an-tech.github.io/TIL</id>
    <published>2024-05-10T19:07:05.352Z</published>
    <updated>2024-05-11T15:39:33.173Z</updated>
    <summary type="html"><![CDATA[undefined]]></summary>
    <content type="html"><![CDATA[<h1 id="TIL">TIL</h1>]]></content>
    <category term="Year-2024" scheme="https://naya-an-tech.github.io/?Year=2024" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[Hello QWER 👋]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/hello-QWER" />
    <id>https://naya-an-tech.github.io/hello-QWER</id>
    <published>2022-09-16T14:00:00.000Z</published>
    <updated>2022-09-16T04:00:00.000Z</updated>
    <summary type="html"><![CDATA[🎉 Let's start a brand new awesome blog...]]></summary>
    <content type="html"><![CDATA[<h2 id="👋 Hello World">👋 Hello World</h2><div class="flex gap4 flex-wrap py4">
<span>Hello Wêreld!</span>
<span>Përshendetje Botë!</span>
<span>ሰላም ልዑል!</span>
<span>مرحبا بالعالم!</span>
<span>Բարեւ աշխարհ!</span>
<span>Kaixo Mundua!</span>
<span>Прывітанне Сусвет!</span>
<span>ওহে বিশ্ব!</span>
<span>Здравей свят!</span>
<span>Hola món!</span>
<span>Moni Dziko Lapansi!</span>
<span>你好世界！</span>
<span>Pozdrav svijete!</span>
<span>Ahoj světe!</span>
<span>Hej Verden!</span>
<span>Hallo Wereld!</span>
<span>Hello World!</span>
<span>Tere maailm!</span>
<span>Hei maailma!</span>
<span>Bonjour monde!</span>
<span>Hallo wrâld!</span>
<span>გამარჯობა მსოფლიო!</span>
<span>Hallo Welt!</span>
<span>Γειά σου Κόσμε!</span>
<span>Sannu Duniya!</span>
<span>שלום עולם!</span>
<span>नमस्ते दुनिया!</span>
<span>Helló Világ!</span>
<span>Halló heimur!</span>
<span>Ndewo Ụwa!</span>
<span>Halo Dunia!</span>
<span>Ciao mondo!</span>
<span>こんにちは世界！</span>
<span>Сәлем Әлем!</span>
<span>សួស្តី​ពិភពលោក!</span>
<span>Салам дүйнө!</span>
<span>ສະ​ບາຍ​ດີ​ຊາວ​ໂລກ!</span>
<span>Sveika pasaule!</span>
<span>Labas pasauli!</span>
<span>Moien Welt!</span>
<span>Здраво свету!</span>
<span>Hai dunia!</span>
<span>ഹലോ വേൾഡ്!</span>
<span>Сайн уу дэлхий!</span>
<span>မင်္ဂလာပါကမ္ဘာလောက!</span>
<span>नमस्कार संसार!</span>
<span>Hei Verden!</span>
<span>سلام نړی!</span>
<span>سلام دنیا!</span>
<span>Witaj świecie!</span>
<span>Olá Mundo!</span>
<span>ਸਤਿ ਸ੍ਰੀ ਅਕਾਲ ਦੁਨਿਆ!</span>
<span>Salut Lume!</span>
<span>Привет мир!</span>
<span>Hàlo a Shaoghail!</span>
<span>Здраво Свете!</span>
<span>Lefatše Lumela!</span>
<span>හෙලෝ වර්ල්ඩ්!</span>
<span>Pozdravljen svet!</span>
<span>¡Hola Mundo!</span>
<span>Halo Dunya!</span>
<span>Salamu Dunia!</span>
<span>Hej världen!</span>
<span>Салом Ҷаҳон!</span>
<span>สวัสดีชาวโลก!</span>
<span>Selam Dünya!</span>
<span>Привіт Світ!</span>
<span>Salom Dunyo!</span>
<span>Chào thế giới!</span>
<span>Helo Byd!</span>
<span>Molo Lizwe!</span>
<span>העלא וועלט!</span>
<span>Mo ki O Ile Aiye!</span>
<span>Sawubona Mhlaba!</span>
</div>

<ImgZoom src="/hello-QWER/reach.jpg" alt="/hello-QWER/reach.jpg" class="h-full object-cover">
Photo by <a href="https://unsplash.com/@marcojodoin?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Marc-Olivier Jodoin</a> on <a href="https://unsplash.com/s/photos/reach?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
</ImgZoom>

<h2 id="🚀 Hello QWER">🚀 Hello QWER</h2><p>This site is generated by QWER, come and try it out.</p>
<div class="my4 mx--8 sm:(mx0 rounded-2xl) flex gap4 items-center shadow-2xl bg-black/[0.25] px4 py6">
  <div>
    <div class="i-carbon-logo-github w6 h6"/>
  </div>
  <div>
    <h2 class="!p0 !m0 !text-[1rem] sm:!text-[1.25rem] !font-700 underline"><a href="https://github.com/kwchang0831/svelte-QWER">kwchang0831/svelte-QWER</a></h2>
    <p class="!p0 !m0 !text-[0.6rem] sm:!text-[0.8rem]">✒︎ Simply Awesome Blog Starter built with SvelteKit and Love ❤</p>
  </div>
</div>

<h2 id="👋 Hello World from Python">👋 Hello World from Python</h2><div class="code-block titled showLineNumber"><h2 class="code-title">example.py</h2><CodeCopy><pre><code class="language-python">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="line-number">1</span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span></div></div><div class="code-line"><div class="code-linenotation"><span class="line-number">2</span><span class="no-line-diff"></span></div><div class="code-content">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, World #%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span></div></div>`}</code></pre></CodeCopy></div>
<h2 id="👍 END">👍 END</h2><p>We look forward to see your creation.</p>
<ImgZoom src="/hello-QWER/wait.jpg" alt="/hello-QWER/wait.jpg" class="h-full object-cover">
Photo by <a href="https://unsplash.com/@armgd?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Nicolas Gras</a> on <a href="https://unsplash.com/s/photos/bokeh?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
</ImgZoom>
]]></content>
    <category term="Hello World" scheme="https://naya-an-tech.github.io/?tags=Hello%20World" />
<category term="QWER" scheme="https://naya-an-tech.github.io/?tags=QWER" />
<category term="Year-2022" scheme="https://naya-an-tech.github.io/?Year=2022" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[About QWER]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/profile" />
    <id>https://naya-an-tech.github.io/profile</id>
    <published>2022-08-19T16:00:00.000Z</published>
    <updated>2022-09-16T04:00:00.000Z</updated>
    <summary type="html"><![CDATA[undefined]]></summary>
    <content type="html"><![CDATA[<h2 id="🎉 QWER">🎉 QWER</h2><p><a href="https://github.com/kwchang0831/svelte-QWER" rel="external" >QWER</a> is a blog starter and static site generator, built with <a href="https://svelte.dev/" rel="external" >Svelte</a> and <a href="https://kit.svelte.dev/" rel="external" >SvelteKit</a>.</p>
<ImgZoom src="/preview.webp" alt="QWER Preview" />

<ImgZoom src="/mobile-preview.webp" alt="QWER Mobile Preview" />

<h2 id="✨ Features">✨ Features</h2><ul>
<li><p>⚡ Super fast site performance. Near <strong>Perfect</strong> <a href="https://pagespeed.web.dev/" rel="external" >PageSpeed</a> score.</p>
</li>
<li><p>🤗 SEO ready with meta, <a href="https://ogp.me/" rel="external" >Open Graph</a>, <a href="https://schema.org/" rel="external" >Schema</a>, <a href="https://json-ld.org/" rel="external" >JSON-LD</a>, <a href="https://indieweb.org/microformats2" rel="external" >microformats2</a>.</p>
</li>
<li><p>🔎 On-site Search.</p>
</li>
<li><p>📱 Mobile-First / Responsive design.</p>
</li>
<li><p>✍️ Write post with <a href="https://www.markdownguide.org/basic-syntax/" rel="external" >Markdown syntax</a>.</p>
</li>
<li><p>🧮 🧪 Wirte Math and Chemical formulas with <a href="https://www.math.brown.edu/johsilve/ReferenceCards/TeXRefCard.v1.5.pdf" rel="external" >TeX Syntax</a> via <a href="https://katex.org/" rel="external" >Katex</a> &amp; <a href="https://mhchem.github.io/MathJax-mhchem/" rel="external" >mhchem</a>.</p>
</li>
<li><p>📁 Folder-based organization for creating posts.</p>
</li>
<li><p>🏷️ Multi-Tags filtering.</p>
</li>
<li><p>📄 Auto-Generate Table of Content for posts.</p>
</li>
<li><p>📦 Out-of-the-box support for <a href="https://validator.w3.org/feed/docs/atom.html" rel="external" >Atom feed</a>, Sitemap, <a href="https://web.dev/progressive-web-apps/" rel="external" >PWA</a>, <a href="https://www.jsonfeed.org/" rel="external" >JSON Feed</a>.</p>
</li>
<li><p>🖼️ Automatic image optimization via <a href="https://github.com/JonasKruckenberg/imagetools" rel="external" >vite-imagetools</a>.</p>
</li>
<li><p>⚙️ Support embedding Svelte components and Javascript with Markdown.</p>
</li>
<li><p>💬 Supports <a href="https://github.com/giscus/giscus" rel="external" >Giscus</a> - a comments system powerd by Github Discussions.</p>
</li>
<li><p>💄 Utilizes <a href="https://github.com/unocss/unocss" rel="external" >UnoCSS</a> - the instant on-demand atomic CSS engine.</p>
</li>
<li><p>🌐 i18n via <a href="https://github.com/ivanhofer/typesafe-i18n" rel="external" >typesafe-i18n</a>.</p>
</li>
<li><p>🚀 Deploy the blog <strong>Free</strong> on <a href="https://vercel.com/" rel="external" >Vercel</a> or <a href="https://Netlify.com/" rel="external" >Netlify</a>.</p>
</li>
</ul>
<h2 id="📚 Learn More">📚 Learn More</h2><p>Please read more at our <a href="https://docs-svelte-qwer.vercel.app/" rel="external" >Documentation</a>.</p>
<h2 id="👷 Current State">👷 Current State</h2><p><a href="https://github.com/kwchang0831/svelte-QWER" rel="external" >QWER</a> is at its&#39; very early stage. Kindly expect frequent breaking changes.</p>
<p>Just copy and paste your <code class="inline-code-block">user</code> folder to the latest release.</p>
<p>Watch out for the CHANGELOG to see if yor are required to migrate <code class="inline-code-block">user/config</code> or other places.</p>
<h2 id="❓ Issues / Problems / Questions">❓ Issues / Problems / Questions</h2><p>Please take advantage of our <a href="https://github.com/kwchang0831/svelte-QWER/discussions/categories/q-a" rel="external" >Github&#39;s Q&amp;A Discussion board</a>.</p>
<h2 id="😊 Are you using QWER?">😊 Are you using QWER?</h2><p>Please consider adding <code class="inline-code-block">svelte-qwer</code> topic to your repository.</p>
<p>To see who else are using QWER, please check <a href="https://github.com/topics/svelte-qwer" rel="external" >Github-Topics: svelte-qwer</a>.</p>
<h2 id="🎉 Support">🎉 Support</h2><div class="flex" style="display:inline-block; font-size: 24px; --un-bg-opacity: 1; background-color: rgba(255, 221, 0); border-radius: 0.5rem; padding: 12px 18px; border: 2px solid;">
<a class="flex"  href="https://www.buymeacoffee.com/kwchang0831" style="color: black;" >
<span>🥓</span>
<span>Buy me a Bacon</span>
</a>
</div>

<h2 id="📝 License">📝 License</h2><p><a href="https://github.com/kwchang0831/svelte-QWER/blob/main/LICENSE" rel="external" >MIT</a></p>
<h2 id="🙏 Credits">🙏 Credits</h2><ul>
<li><p>Cover Photo by <a href="https://unsplash.com/@jessbaileydesigns?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Jess Bailey</a> on <a href="https://unsplash.com/s/photos/note?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>
</li>
<li><p>Avatar Illustration by <a href="https://icons8.com/illustrations/author/GrbQqWBEhaDS">Liam Moore</a> from <a href="https://icons8.com/illustrations">Ouch!</a></p>
</li>
</ul>
<h2 id="👍 END">👍 END</h2><p>Thanks so much for interesting in <a href="https://github.com/kwchang0831/svelte-QWER" rel="external" >QWER</a>. Please try it out and let me know what you think 😊.</p>
]]></content>
    <category term="Year-2022" scheme="https://naya-an-tech.github.io/?Year=2022" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[About QWER]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/about" />
    <id>https://naya-an-tech.github.io/about</id>
    <published>2022-08-19T16:00:00.000Z</published>
    <updated>2022-09-16T04:00:00.000Z</updated>
    <summary type="html"><![CDATA[undefined]]></summary>
    <content type="html"><![CDATA[<h2 id="🎉 QWER">🎉 QWER</h2><p><a href="https://github.com/kwchang0831/svelte-QWER" rel="external" >QWER</a> is a blog starter and static site generator, built with <a href="https://svelte.dev/" rel="external" >Svelte</a> and <a href="https://kit.svelte.dev/" rel="external" >SvelteKit</a>.</p>
<ImgZoom src="/preview.webp" alt="QWER Preview" />

<ImgZoom src="/mobile-preview.webp" alt="QWER Mobile Preview" />

<h2 id="✨ Features">✨ Features</h2><ul>
<li><p>⚡ Super fast site performance. Near <strong>Perfect</strong> <a href="https://pagespeed.web.dev/" rel="external" >PageSpeed</a> score.</p>
</li>
<li><p>🤗 SEO ready with meta, <a href="https://ogp.me/" rel="external" >Open Graph</a>, <a href="https://schema.org/" rel="external" >Schema</a>, <a href="https://json-ld.org/" rel="external" >JSON-LD</a>, <a href="https://indieweb.org/microformats2" rel="external" >microformats2</a>.</p>
</li>
<li><p>🔎 On-site Search.</p>
</li>
<li><p>📱 Mobile-First / Responsive design.</p>
</li>
<li><p>✍️ Write post with <a href="https://www.markdownguide.org/basic-syntax/" rel="external" >Markdown syntax</a>.</p>
</li>
<li><p>🧮 🧪 Wirte Math and Chemical formulas with <a href="https://www.math.brown.edu/johsilve/ReferenceCards/TeXRefCard.v1.5.pdf" rel="external" >TeX Syntax</a> via <a href="https://katex.org/" rel="external" >Katex</a> &amp; <a href="https://mhchem.github.io/MathJax-mhchem/" rel="external" >mhchem</a>.</p>
</li>
<li><p>📁 Folder-based organization for creating posts.</p>
</li>
<li><p>🏷️ Multi-Tags filtering.</p>
</li>
<li><p>📄 Auto-Generate Table of Content for posts.</p>
</li>
<li><p>📦 Out-of-the-box support for <a href="https://validator.w3.org/feed/docs/atom.html" rel="external" >Atom feed</a>, Sitemap, <a href="https://web.dev/progressive-web-apps/" rel="external" >PWA</a>, <a href="https://www.jsonfeed.org/" rel="external" >JSON Feed</a>.</p>
</li>
<li><p>🖼️ Automatic image optimization via <a href="https://github.com/JonasKruckenberg/imagetools" rel="external" >vite-imagetools</a>.</p>
</li>
<li><p>⚙️ Support embedding Svelte components and Javascript with Markdown.</p>
</li>
<li><p>💬 Supports <a href="https://github.com/giscus/giscus" rel="external" >Giscus</a> - a comments system powerd by Github Discussions.</p>
</li>
<li><p>💄 Utilizes <a href="https://github.com/unocss/unocss" rel="external" >UnoCSS</a> - the instant on-demand atomic CSS engine.</p>
</li>
<li><p>🌐 i18n via <a href="https://github.com/ivanhofer/typesafe-i18n" rel="external" >typesafe-i18n</a>.</p>
</li>
<li><p>🚀 Deploy the blog <strong>Free</strong> on <a href="https://vercel.com/" rel="external" >Vercel</a> or <a href="https://Netlify.com/" rel="external" >Netlify</a>.</p>
</li>
</ul>
<h2 id="📚 Learn More">📚 Learn More</h2><p>Please read more at our <a href="https://docs-svelte-qwer.vercel.app/" rel="external" >Documentation</a>.</p>
<h2 id="👷 Current State">👷 Current State</h2><p><a href="https://github.com/kwchang0831/svelte-QWER" rel="external" >QWER</a> is at its&#39; very early stage. Kindly expect frequent breaking changes.</p>
<p>Just copy and paste your <code class="inline-code-block">user</code> folder to the latest release.</p>
<p>Watch out for the CHANGELOG to see if yor are required to migrate <code class="inline-code-block">user/config</code> or other places.</p>
<h2 id="❓ Issues / Problems / Questions">❓ Issues / Problems / Questions</h2><p>Please take advantage of our <a href="https://github.com/kwchang0831/svelte-QWER/discussions/categories/q-a" rel="external" >Github&#39;s Q&amp;A Discussion board</a>.</p>
<h2 id="😊 Are you using QWER?">😊 Are you using QWER?</h2><p>Please consider adding <code class="inline-code-block">svelte-qwer</code> topic to your repository.</p>
<p>To see who else are using QWER, please check <a href="https://github.com/topics/svelte-qwer" rel="external" >Github-Topics: svelte-qwer</a>.</p>
<h2 id="🎉 Support">🎉 Support</h2><div class="flex" style="display:inline-block; font-size: 24px; --un-bg-opacity: 1; background-color: rgba(255, 221, 0); border-radius: 0.5rem; padding: 12px 18px; border: 2px solid;">
<a class="flex"  href="https://www.buymeacoffee.com/kwchang0831" style="color: black;" >
<span>🥓</span>
<span>Buy me a Bacon</span>
</a>
</div>

<h2 id="📝 License">📝 License</h2><p><a href="https://github.com/kwchang0831/svelte-QWER/blob/main/LICENSE" rel="external" >MIT</a></p>
<h2 id="🙏 Credits">🙏 Credits</h2><ul>
<li><p>Cover Photo by <a href="https://unsplash.com/@jessbaileydesigns?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Jess Bailey</a> on <a href="https://unsplash.com/s/photos/note?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>
</li>
<li><p>Avatar Illustration by <a href="https://icons8.com/illustrations/author/GrbQqWBEhaDS">Liam Moore</a> from <a href="https://icons8.com/illustrations">Ouch!</a></p>
</li>
</ul>
<h2 id="👍 END">👍 END</h2><p>Thanks so much for interesting in <a href="https://github.com/kwchang0831/svelte-QWER" rel="external" >QWER</a>. Please try it out and let me know what you think 😊.</p>
]]></content>
    <category term="Year-2022" scheme="https://naya-an-tech.github.io/?Year=2022" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[Example Post]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/example" />
    <id>https://naya-an-tech.github.io/example</id>
    <published>2022-08-08T16:00:00.000Z</published>
    <updated>2023-05-01T12:00:00.000Z</updated>
    <summary type="html"><![CDATA[📝 Showcase basic syntax of Markdown and HTML]]></summary>
    <content type="html"><![CDATA[<h2 id="Paragraphs">Paragraphs</h2><p><strong>Lorem Ipsum</strong> dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. This is the content: <strong><em>The</em></strong> <em>quick</em> <u>brown</u> <a href="https://www.foxnews.com/" rel="external" >fox</a> <code class="inline-code-block">jumps</code> <del>over</del> the lazy <strong>dog</strong>.</p>
<p>This is <span class="spoiler">Spoiler Text</span>.</p>
<blockquote>
<p>Lorem ipsum began as scrambled, nonsensical Latin derived from Cicero&#39;s 1st-century BC text De Finibus Bonorum et Malorum.</p>
</blockquote>
<p><kbd>↑</kbd> <kbd>↑</kbd> <kbd>↓</kbd> <kbd>↓</kbd> <kbd>←</kbd> <kbd>→</kbd> <kbd>←</kbd> <kbd>→</kbd> <kbd>B</kbd> <kbd>A</kbd> <kbd>Start</kbd></p>
<p><kbd>Ctl + C</kbd> <kbd>Ctl + V</kbd></p>
<p><sup>Lorem</sup> <sub>ipsum</sub> <cite>dolor sit amet</cite>, <acronym title="Consectetur Adipiscing Elit">consectetur adipiscing elit</acronym>, <abbr title="Aliqua">sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</abbr>.</p>
<h3 id="Ordered List">Ordered List</h3><ol>
<li>First item</li>
<li>Second item</li>
<li>Third item</li>
</ol>
<h3 id="Unordered List">Unordered List</h3><ul>
<li>First item</li>
<li>Second item</li>
<li>Third item</li>
</ul>
<h3 id="Checkbox List (ul)">Checkbox List (ul)</h3><ul>
<li><input type="checkbox" > List Item 1 unchecked</li>
<li><input type="checkbox" checked> List Item 2 checked</li>
<li><input type="checkbox" checked> List Item 3 checked</li>
</ul>
<h2 id="Katex">Katex</h2><h3 id="Katex Block">Katex Block</h3><p>Katex Block are facanced by</p>
<div class="code-block  "><CodeCopy><pre><code class="language-text">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&#96;&#96;&#96;math</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Tex Syntax</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&#96;&#96;&#96;</div></div>`}</code></pre></CodeCopy></div>
<p>Example of Fractions and Binomials</p>
<p class="katex-block">{@html String.raw`<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow><mrow><mi>k</mi><mo stretchy="false">!</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow></mfrac><mo>=</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>k</mi></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\frac{n!}{k!(n-k)!} = \binom{n}{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">!</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)!</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span>`}</p><p>Also</p>
<p class="katex-block">{@html String.raw`<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mfrac><mn>1</mn><mi>x</mi></mfrac><mo>+</mo><mfrac><mn>1</mn><mi>y</mi></mfrac></mrow><mrow><mi>y</mi><mo>−</mo><mi>z</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\frac{1}{x}+\frac{1}{y}}{y-z}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.5967em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7162em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.8711em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>`}</p><h3 id="Katex Inline">Katex Inline</h3><p>Katex inline are facanced by</p>
<div class="code-block  "><CodeCopy><pre><code class="language-text">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">&#96;&#36;kaTex Inline Text&#36;&#96;</div></div>`}</code></pre></CodeCopy></div>
<p>This <span class="katex-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mn>22</mn></msup></mrow><annotation encoding="application/x-tex">n^{22}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span></span></span></span></span></span></span></span></span> and that <span class="katex-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>2</mn><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mrow><mi>cos</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mi>θ</mi><mo>−</mo><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mi>θ</mi></mrow><annotation encoding="application/x-tex">\cos (2\theta) = \cos^2 \theta - \sin^2 \theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mop"><span class="mop">cos</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8719em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span></span></p>
<h3 id="Chemical Typesetting">Chemical Typesetting</h3><p class="katex-block">{@html String.raw`<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mi mathvariant="normal">Z</mi><mi mathvariant="normal">n</mi></mrow><msup><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mrow><mn>2</mn><mo>+</mo></mrow></msup><munderover><mo stretchy="true" minsize="3.0em">⇌</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mrow></mrow><mo>+</mo><mrow></mrow><mn>2</mn><mtext> </mtext><mi mathvariant="normal">H</mi><msup><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mo lspace="0em" rspace="0em">+</mo></msup></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mrow><mrow></mrow><mo>+</mo><mrow></mrow><mn>2</mn><mtext> </mtext><mrow><mi mathvariant="normal">O</mi><mi mathvariant="normal">H</mi></mrow><msup><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mo lspace="0em" rspace="0em">−</mo></msup></mrow></mpadded></munderover><mi><munder><mo><mrow><mrow><mi mathvariant="normal">Z</mi><mi mathvariant="normal">n</mi></mrow><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">O</mi><mi mathvariant="normal">H</mi></mrow><mo stretchy="false">)</mo><msub><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mpadded height="0px"><mn>2</mn></mpadded></msub><mo>↓</mo><mrow></mrow></mrow></mo><mtext>amphoteres Hydroxid</mtext></munder></mi><munderover><mo stretchy="true" minsize="3.0em">⇌</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mrow></mrow><mo>+</mo><mrow></mrow><mn>2</mn><mtext> </mtext><mi mathvariant="normal">H</mi><msup><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mo lspace="0em" rspace="0em">+</mo></msup></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mrow><mrow></mrow><mo>+</mo><mrow></mrow><mn>2</mn><mtext> </mtext><mrow><mi mathvariant="normal">O</mi><mi mathvariant="normal">H</mi></mrow><msup><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mo lspace="0em" rspace="0em">−</mo></msup></mrow></mpadded></munderover><mi><munder><mo><mrow><mo stretchy="false">[</mo><mrow><mi mathvariant="normal">Z</mi><mi mathvariant="normal">n</mi></mrow><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">O</mi><mi mathvariant="normal">H</mi></mrow><mo stretchy="false">)</mo><msub><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mpadded height="0px"><mn>4</mn></mpadded></msub><mo stretchy="false">]</mo><msup><mpadded width="0px"><mphantom><mi>X</mi></mphantom></mpadded><mrow><mn>2</mn><mo>−</mo></mrow></msup></mrow></mo><mtext>Hydroxozikat</mtext></munder></mi></mrow><annotation encoding="application/x-tex">\ce{Zn^2+  &lt;=&gt;[+ 2OH-][+ 2H+]  $\underset{\text{amphoteres Hydroxid}}{\ce{Zn(OH)2 v}}$  &lt;=&gt;[+ 2OH-][+ 2H+]  $\underset{\text{Hydroxozikat}}{\ce{[Zn(OH)4]^2-}}$}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4506em;vertical-align:-1.1382em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Zn</span></span><span class="mord"><span class="mord"><span class="mord rlap"><span class="inner"><span class="mord" style="color:transparent;"><span class="mord mathnormal" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8873em;"><span style="top:-3.1362em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">+</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3124em;"><span style="top:-3.435em;"><span class="pstrut" style="height:2.716em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"></span><span class="mbin mtight">+</span><span class="mord mtight"></span><span class="mord mtight">2</span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mtight"><span class="mord mathrm mtight">OH</span></span><span class="mord mtight"><span class="mord mtight"><span class="mord rlap mtight"><span class="inner"><span class="mord mtight" style="color:transparent;"><span class="mord mathnormal mtight" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8477em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-2.608em;"><span class="pstrut" style="height:2.716em;"></span><span class="stretchy" style="height:0.716em;min-width:1.75em;"><span class="halfarrow-left" style="height:0.716em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.716em' viewBox='0 0 400000 716' preserveAspectRatio='xMinYMin slice'><path d='M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z'/></svg></span><span class="halfarrow-right" style="height:0.716em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.716em' viewBox='0 0 400000 716' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z'/></svg></span></span></span><span style="top:-1.974em;"><span class="pstrut" style="height:2.716em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"></span><span class="mbin mtight">+</span><span class="mord mtight"></span><span class="mord mtight">2</span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathrm mtight">H</span><span class="mord mtight"><span class="mord mtight"><span class="mord rlap mtight"><span class="inner"><span class="mord mtight" style="color:transparent;"><span class="mord mathnormal mtight" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7471em;"><span style="top:-2.8305em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8003em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.0979em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">amphoteres Hydroxid</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mord"><span class="mord"><span class="mord mathrm">Zn</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathrm">OH</span></span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="mord rlap"><span class="inner"><span class="mord" style="color:transparent;"><span class="mord mathnormal" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.15em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">↓</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1382em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3124em;"><span style="top:-3.435em;"><span class="pstrut" style="height:2.716em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"></span><span class="mbin mtight">+</span><span class="mord mtight"></span><span class="mord mtight">2</span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mtight"><span class="mord mathrm mtight">OH</span></span><span class="mord mtight"><span class="mord mtight"><span class="mord rlap mtight"><span class="inner"><span class="mord mtight" style="color:transparent;"><span class="mord mathnormal mtight" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8477em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-2.608em;"><span class="pstrut" style="height:2.716em;"></span><span class="stretchy" style="height:0.716em;min-width:1.75em;"><span class="halfarrow-left" style="height:0.716em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.716em' viewBox='0 0 400000 716' preserveAspectRatio='xMinYMin slice'><path d='M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z'/></svg></span><span class="halfarrow-right" style="height:0.716em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.716em' viewBox='0 0 400000 716' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z'/></svg></span></span></span><span style="top:-1.974em;"><span class="pstrut" style="height:2.716em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"></span><span class="mbin mtight">+</span><span class="mord mtight"></span><span class="mord mtight">2</span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mathrm mtight">H</span><span class="mord mtight"><span class="mord mtight"><span class="mord rlap mtight"><span class="inner"><span class="mord mtight" style="color:transparent;"><span class="mord mathnormal mtight" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7471em;"><span style="top:-2.8305em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8003em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8873em;"><span style="top:-2.0979em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Hydroxozikat</span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mord"><span class="mopen">[</span><span class="mord"><span class="mord mathrm">Zn</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathrm">OH</span></span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="mord rlap"><span class="inner"><span class="mord" style="color:transparent;"><span class="mord mathnormal" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.15em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord"><span class="mord"><span class="mord rlap"><span class="inner"><span class="mord" style="color:transparent;"><span class="mord mathnormal" style="margin-right:0.07847em;color:transparent;">X</span></span></span><span class="fix"></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8873em;"><span style="top:-3.1362em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">−</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1382em;"><span></span></span></span></span></span></span></span></span></span></span></span>`}</p><h2 id="Footnotes">Footnotes</h2><p>Here&#39;s a simple footnote,<sup id="fnref:1"><a href="#fn:1">1</a></sup> and here&#39;s a longer one.<sup id="fnref:bignote"><a href="#fn:bignote">2</a></sup></p>
<h2 id="Info Block">Info Block</h2><InfoBox statusType="info" statusName="This is the title"><p>This is the content: <strong><em>The</em></strong> <em>quick</em> <u>brown</u> <a href="https://www.foxnews.com/" rel="external" >fox</a> <code class="inline-code-block">jumps</code> <del>over</del> the lazy <strong>dog</strong>.</p>
</InfoBox>
<h2 id="Table">Table</h2><table>
<thead>
<tr>
<th >Table Header 1</th>
<th >Table Header 2</th>
<th >Table Header 3</th>
</tr>
</thead>
<tbody><tr>
<td >Division 1</td>
<td >Division 2</td>
<td >Division 3</td>
</tr>
<tr>
<td >Division 1</td>
<td >Division 2</td>
<td >Division 3</td>
</tr>
<tr>
<td >Division 1</td>
<td >Division 2</td>
<td >Division 3</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th class="text-left">Align Left</th>
<th class="text-center">Align Center</th>
<th class="text-right">Align Right</th>
</tr>
</thead>
<tbody><tr>
<td class="text-left">Division 1</td>
<td class="text-center">Division 2</td>
<td class="text-right">Division 3</td>
</tr>
<tr>
<td class="text-left">Division 1</td>
<td class="text-center">Division 2</td>
<td class="text-right">Division 3</td>
</tr>
<tr>
<td class="text-left">Division 1</td>
<td class="text-center">Division 2</td>
<td class="text-right">Division 3</td>
</tr>
</tbody></table>
<h2 id="Code Block">Code Block</h2><div class="code-block titled "><h2 class="code-title">examples/index.ts</h2><CodeCopy><pre><code class="language-ts">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span></div></div>`}</code></pre></CodeCopy></div>
<div class="code-block titled showLineNumber"><h2 class="code-title">typescript-helloworld.ts</h2><CodeCopy><pre><code class="language-ts">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="line-number">1</span><span class="line-diff"> </span></div><div class="code-content"><span class="token keyword">class</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{</span></div></div><div class="code-line line-highlight"><div class="code-linenotation"><span class="line-number">2</span><span class="line-diff"> </span></div><div class="code-content">    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></div></div><div class="code-line line-highlight"><div class="code-linenotation"><span class="line-number">3</span><span class="line-diff"> </span></div><div class="code-content">    <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div></div><div class="code-line line-highlight"><div class="code-linenotation"><span class="line-number">4</span><span class="line-diff"> </span></div><div class="code-content">        <span class="token keyword">return</span> <span class="token string">"&lt;h1>"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>greeting <span class="token operator">+</span> <span class="token string">"&lt;/h1>"</span><span class="token punctuation">;</span></div></div><div class="code-line line-highlight"><div class="code-linenotation"><span class="line-number">5</span><span class="line-diff"> </span></div><div class="code-content">    <span class="token punctuation">}</span></div></div><div class="code-line"><div class="code-linenotation"><span class="line-number">6</span><span class="line-diff"> </span></div><div class="code-content"><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="line-number">7</span><span class="line-diff"> </span></div><div class="code-content"></div></div><div class="code-line line-addition"><div class="code-linenotation"><span class="line-number">8</span><span class="line-diff">+</span></div><div class="code-content"><span class="token keyword">var</span> greeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">"Hello, Ministry of Programming!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line line-addition"><div class="code-linenotation"><span class="line-number">9</span><span class="line-diff">+</span></div><div class="code-content"><span class="token keyword">var</span> str <span class="token operator">=</span> greeter<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="code-line line-subtraction"><div class="code-linenotation"><span class="line-number">10</span><span class="line-diff">-</span></div><div class="code-content"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div>`}</code></pre></CodeCopy></div>
<h2 id="Image">Image</h2><p>Just image</p>
<p><ImgZoom src="/example/example1.jpg" alt="Example1"></ImgZoom></p>
<p>Image with subtitle</p>
<ImgZoom src="/example/example1.jpg" alt="Example1" class="h-full object-cover">
Photo by <a href="https://unsplash.com/@willy24?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Ioana Tabarcea</a> on <a href="https://unsplash.com/s/photos/morning?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
</ImgZoom>

<p>Shared image from <code class="inline-code-block">/user/assets/shared/</code></p>
<div class="code-block  "><CodeCopy><pre><code class="language-md">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token url"><span class="token operator">!</span>[<span class="token content">github-mark-svg</span>](<span class="token url">/shared/github-mark.svg</span>)</span></div></div>`}</code></pre></CodeCopy></div>
<p><ImgZoom src="/shared/github-mark.svg" alt="github-mark-svg"></ImgZoom></p>
<h2 id="Videos / GIF">Videos / GIF</h2><p><Video mp4="/example/example2.mp4" id="MP4 Example" /></p>
<h2 id="Youtube">Youtube</h2><Youtube id="ZXsQAXx_ao0"/>

<h2 id="Custom Svelte Component">Custom Svelte Component</h2><div class="p4 border-1 shadow-xl rounded-xl border-black dark:border-white overflow-auto">
  <Folder name="config" files={configFolder} expanded/>
</div>

<div class="my4">
  <Custom name="custom object" />
</div>

<div class="code-block  "><CodeCopy><pre><code class="language-svelte">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">  <span class="token keyword">const</span> const_variable <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">Variable is <span class="token language-javascript"><span class="token punctuation">{</span>const_variable<span class="token punctuation">}</span></span></div></div>`}</code></pre></CodeCopy></div>
<p>Variable is {const_variable}</p>
<div class="code-block  "><CodeCopy><pre><code class="language-svelte">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">{(function () {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">const guess = Math.random()</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">if (guess > 0.66) {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">return &#96;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>color: tomato<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Look at us.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>&#96;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">}</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">if (guess > 0.33) {</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">return &#96;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>color: violet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Who would have guessed?!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>&#96;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">}</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">return &#96;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>color: goldenrod<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Not me.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>&#96;</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">})()}</div></div>`}</code></pre></CodeCopy></div>
<p>{@html (function () {
const guess = Math.random()

if (guess > 0.66) {
return `<span style="color: tomato">Look at us.</span>`
}

if (guess > 0.33) {
return `<span style="color: violet">Who would have guessed?!</span>`
}

return `<span style="color: goldenrod">Not me.</span>`
})()}</p>
<h2 id="👍 END">👍 END</h2>
  <hr />
  <ol>
    <li id="fn:1" class="footnote"><p>This is the first footnote.</p>
<a href="#fnref:1">↩</a></li>
<li id="fn:bignote" class="footnote"><p>Here&#39;s one with multiple paragraphs and code.<br>    Indent paragraphs to include them in the footnote.<br>    <code class="inline-code-block">&lcub; my code &rcub;</code><br>    Add as many paragraphs as you like.</p>
<a href="#fnref:bignote">↩</a></li>
  </ol>
  ]]></content>
    <category term="Markdown" scheme="https://naya-an-tech.github.io/?tags=Markdown" />
<category term="Year-2022" scheme="https://naya-an-tech.github.io/?Year=2022" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
<entry>
    <title type="html"><![CDATA[Quick Start]]></title>
    <author><name><![CDATA[GiCheon Seong(Ayaan)]]></name></author>
    <link href="https://naya-an-tech.github.io/quick-start" />
    <id>https://naya-an-tech.github.io/quick-start</id>
    <published>2022-08-07T16:00:00.000Z</published>
    <updated>2022-09-15T13:00:00.000Z</updated>
    <summary type="html"><![CDATA[✨ Just a QuickStart guide]]></summary>
    <content type="html"><![CDATA[<h2 id="✨ Intro">✨ Intro</h2><p><a href="https://www.github.com/kwchang0831/svelte-QWER" rel="external" >QWER</a> is simply an Awesome blog starter and static site generator. Built using <a href="https://kit.svelte.dev/" rel="external" >SvelteKit</a> and Love ❤.</p>
<h2 id="🎉 Try out QWER">🎉 Try out QWER</h2><p>Create a QWER blog named <code class="inline-code-block">my-blog</code>.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-sh">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">npx degit kwchang0831/svelte-QWER my-blog</div></div>`}</code></pre></CodeCopy></div>
<h2 id="⚡️ To Dev">⚡️ To Dev</h2><ol>
<li><p>Install all the dependencies.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-sh">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token function">pnpm</span> i</div></div>`}</code></pre></CodeCopy></div>
</li>
<li><p>Start local dev server.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-sh">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token function">pnpm</span> dev</div></div>`}</code></pre></CodeCopy></div>
</li>
<li><p>Sever is running. Open browser to see the result.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-sh">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">VITE v3.1.1  ready <span class="token keyword">in</span> <span class="token number">1080</span> ms</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"></div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">➜  Local:   http://localhost:5173/</div></div><div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">➜  Network: use <span class="token parameter variable">--host</span> to expose</div></div>`}</code></pre></CodeCopy></div>
</li>
</ol>
<h2 id="🚀 To Deploy">🚀 To Deploy</h2><ol>
<li><p>Create a free <a href="https://vercel.com/" rel="external" >Vercel</a> account.</p>
</li>
<li><p>Install Vercel CLI</p>
<div class="code-block  "><CodeCopy><pre><code class="language-sh">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content"><span class="token function">npm</span> i <span class="token parameter variable">-g</span> vercel</div></div>`}</code></pre></CodeCopy></div>
</li>
<li><p>Using the vercel command from the root of a project directory.</p>
<div class="code-block  "><CodeCopy><pre><code class="language-sh">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">vercel</div></div>`}</code></pre></CodeCopy></div>
<p>You will be asked to login for the first time. Simply follow the prompts.</p>
</li>
<li><p>Deploy as Production build</p>
<div class="code-block  "><CodeCopy><pre><code class="language-sh">{@html String.raw`<div class="code-line"><div class="code-linenotation"><span class="no-line-number"></span><span class="no-line-diff"></span></div><div class="code-content">vercel deploy <span class="token parameter variable">--prod</span></div></div>`}</code></pre></CodeCopy></div>
</li>
</ol>
<h2 id="📚 Learn More">📚 Learn More</h2><p>Here is our Documentation: <a href="https://docs-svelte-qwer.vercel.app/" rel="external" >https://docs-svelte-qwer.vercel.app/</a>.</p>
<h2 id="👍 END">👍 END</h2>]]></content>
    <category term="QWER" scheme="https://naya-an-tech.github.io/?tags=QWER" />
<category term="Year-2022" scheme="https://naya-an-tech.github.io/?Year=2022" />
<category term="Language-English" scheme="https://naya-an-tech.github.io/?Language=English" />
    </entry>
</feed>
